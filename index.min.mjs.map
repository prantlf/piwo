{"version":3,"file":"index.min.mjs","sources":["/piwo/shared/globals.js","/piwo/shared/internals.js","/piwo/shared/helpers.js","/piwo/shared/attributes.js","/piwo/shared/shadow.js","/piwo/shared/interactive.js","/piwo/elements/button.js","/piwo/shared/field.js","/piwo/shared/boolean.js","/piwo/elements/checkbox.js","/piwo/elements/container.js","/piwo/elements/fieldset.js","/piwo/elements/h.js","/piwo/elements/hr.js","/piwo/elements/input.js","/piwo/elements/label.js","/piwo/elements/legend.js","/piwo/elements/link.js","/piwo/elements/p.js","/piwo/elements/radio.js","/piwo/elements/select.js","/piwo/elements/small.js","/piwo/elements/spacer.js","/piwo/elements/switch.js","/piwo/elements/textarea.js","/piwo/form/content.js","/piwo/form/values.js","/piwo/form/validation.js"],"sourcesContent":["import stylesheet from './globals.css'\n\ndocument.adoptedStyleSheets.push(stylesheet)\n","const internals = Symbol('internals')\n\nconst InternalsMixin = ParentElement => {\n  class InternalsElement extends ParentElement {\n    constructor() {\n      super()\n      this[internals] = this.attachInternals()\n    }\n  }\n\n  return InternalsElement\n}\n\nexport { InternalsMixin, internals }\n","import { internals } from './internals.js'\n\nexport function upgradeProperty(element, name) {\n  if (Object.hasOwn(element, name)) {\n    const value = element[name]\n    delete element[name]\n    element[name] = value\n  }\n}\n\nexport function findClosestAncestorByTagName(element, tagName) {\n\tfor (let parent;;) {\n    parent = element.parentElement\n    if (parent === null) {\n      return null\n    }\n\t\tif (parent.tagName === tagName) {\n\t\t\treturn parent\n\t\t}\n\t}\n}\n\nexport function findLabels(element) {\n  const labelIds = element.getAttribute('aria-labelledby')\n  if (labelIds) {\n    const root = element.getRootNode()\n    return labelIds\n      .trim()\n      .split(/ +/)\n      .reduce((labels, id) => {\n        const label = root.getElementById(id.trim())\n        if (label) {\n          labels.push(label)\n        }\n        return labels\n      }, [])\n  }\n}\n\nexport function formatPlural(count, word) {\n  const suffix = count === 1 ? '' : 's'\n  return `${count} ${word}${suffix}`\n}\n\nexport function onDisabledChange(element, value) {\n  if (value) {\n    const root = element.getRootNode()\n    if (root.activeElement === element) {\n      element.blur()\n    }\n    if (element.tabIndex >= 0) {\n      element.tabIndex = -1\n    }\n  } else {\n    if (element.tabIndex < 0) {\n      element.tabIndex = 0\n    }\n  }\n}\n\nexport function markValid(element) {\n  if (element[messageElement]) {\n    element[messageElement].textContent = element[originalMessage]\n    if (!element[originalMessage]) {\n      element[messageElement].style.display = 'none'\n    }\n    element[messageElement] = null\n    element[originalMessage] = ''\n  }\n}\n\nexport function markInvalid(element) {\n  if (ensureMessageElement(element)) {\n    element[messageElement].style.display = ''\n    element[messageElement].textContent = element.validationMessage\n    const { form } = element\n    if (element.focusError && !form?.errorFocused) {\n      if (form) {\n        form.errorFocused = true\n      }\n      element.focus()\n      if (form) {\n        setTimeout(() => {\n          form.errorFocused = false\n        })\n      }\n    }\n  }\n}\n\nconst messageElement = Symbol('messageElement')\nconst originalMessage = Symbol('originalMessage')\n\nexport function ensureMessageElement(element) {\n  const messageIds = element.getAttribute('aria-describedby')\n  if (messageIds) {\n    const messageId = messageIds.trim().split(/ +/).slice(-1)[0]\n    if (messageId) {\n      const errorElement = document.getElementById(messageId.trim())\n      if (errorElement) {\n        if (errorElement !== element[messageElement]) {\n          element[messageElement] = errorElement\n          element[originalMessage] = errorElement.textContent\n          if (!element[originalMessage]) {\n            element[messageElement].style.display = 'none'\n          }\n        }\n        return true\n      }\n    }\n  }\n}\n\nexport function setCustomError(element, anchor, message) {\n  if (message) {\n    element[internals].setValidity({ customError: true }, message, anchor)\n  } else {\n    element[internals].setValidity({})\n  }\n}\n\nexport function createErrorAnchor(element) {\n  const errorAnchor = document.createElement('input')\n  errorAnchor.tabIndex = -1\n  errorAnchor.ariaHidden = 'true'\n  element.shadowRoot.appendChild(errorAnchor)\n  return errorAnchor\n}\n","import { upgradeProperty } from './helpers.js'\nimport { internals } from './internals.js'\n\nconst AttributesMixin = (ParentElement, {\n  attributes = {}\n} = {}) => {\n  const observedAttributeNames = []\n\n  class AttributesElement extends ParentElement {\n    constructor() {\n      super()\n\n      for (const attributeName in attributes) {\n        const propertyName = attributes[attributeName].property ?? attributeName\n        upgradeProperty(this, propertyName)\n      }\n    }\n\n    // ----- life-cycle callbacks\n\n    static get observedAttributes() {\n      return observedAttributeNames\n    }\n\n    attributeChangedCallback(name, _oldValue, newValue) {\n      const { property, boolean } = attributes[name]\n      const propertyName = property ?? name\n      if (boolean) newValue = newValue != null\n      // const id = this.id || this.name || this.labels?.[0]?.textContent || this.textContent || ''\n      // console.debug(`attributeChanged: \"${name}\" -> \"${propertyName}\", ${JSON.stringify(_oldValue)} -> ${JSON.stringify(newValue)} (${this.tagName}:${id})`)\n      this[propertyName] = newValue\n    }\n  }\n\n  const renamedAttributes = {}\n  const properties = {}\n\n  const { prototype } = AttributesElement\n  for (let attributeName in attributes) {\n    const options = attributes[attributeName]\n    let { property, attribute, type, value, internals: enableInternals, aria, state, reflect, get, set } = options\n    const propertyName = property ?? attributeName\n    const symbol = Symbol(propertyName)\n    if (attribute) {\n      renamedAttributes[attributeName] = attribute\n      attributeName = attribute\n      options.property = propertyName\n    }\n\n    let boolean\n    let number\n    if (value === undefined) {\n      if (type === 'boolean') {\n          boolean = options.boolean = true\n          value = false\n      } else if (type === 'number') {\n        number = options.number = true\n        value = 0\n      } else { // string\n        value = ''\n      }\n    } else if (type === undefined) {\n      if (typeof value === 'boolean') {\n        boolean = true\n      } else if (typeof value === 'number') {\n        number = options.number = true\n      }\n    } else {\n      switch (type) {\n        case 'boolean':\n          boolean = options.boolean = true\n          break\n        case 'number':\n          number = options.number = true\n      }\n    }\n\n    prototype[symbol] = value\n\n    if (aria === true) {\n      aria = `aria${propertyName.charAt(0).toUpperCase()}${propertyName.slice(1)}`\n    }\n\n    const getter = get\n      ? function () {\n        if (get) {\n          const value = get.call(this)\n          if (value !== undefined) return value\n        }\n        return this[symbol]\n      }\n      : function () {\n        return this[symbol]\n      }\n\n    let setter\n    if (boolean) {\n      if (state === true) state = propertyName\n      setter = function (value) {\n        value = Boolean(value)\n        if (value === this[symbol]) return\n        this[symbol] = value\n        if (state) {\n          if (value) this[internals].states.add(state)\n          else this[internals].states.delete(state)\n        }\n        if (enableInternals) this[internals][propertyName] = value\n        if (aria) this[internals][aria] = String(value)\n        if (reflect) this.toggleAttribute(attributeName, value)\n        if (set) set.call(this, value)\n      }\n    } else if (number) {\n      setter = function (value) {\n        if (value == null) {\n          value = 0\n        } else { \n          value = Number(value)\n          if (Number.isNaN(value)) value = 0\n        }\n        if (value === this[symbol]) return\n        this[symbol] = value\n        if (enableInternals) this[internals][propertyName] = value\n        if (aria) this[internals][aria] = String(value)\n        if (reflect) this.setAttribute(attributeName, String(value))\n        if (set) set.call(this, value)\n      }\n    } else {\n      setter = function (value) {\n        if (value == null) value = ''\n        else value = String(value)\n        if (value === this[symbol]) return\n        this[symbol] = value\n        if (enableInternals) this[internals][propertyName] = value\n        if (aria) this[internals][aria] = value\n        if (reflect) this.setAttribute(attributeName, value)\n        if (set) set.call(this, value)\n      }\n    }\n\n    properties[propertyName] = {\n      configurable: true,\n      enumerable: true,\n      get: getter,\n      set: setter\n    }\n\n    if (reflect) {\n      observedAttributeNames.push(attributeName)\n    }\n  }\n\n  for (const attributeName in renamedAttributes) {\n    attributes[renamedAttributes[attributeName]] = attributes[attributeName]\n    delete attributes[attributeName]\n  }\n\n  Object.defineProperties(prototype, properties)\n\n  return AttributesElement\n}\n\nexport { AttributesMixin }\n","import commonStylesheet from './common.css'\n\nconst ShadowMixin = (ParentElement, {\n  delegatesFocus\n} = {}) => {\n  class ShadowElement extends ParentElement {\n    constructor() {\n      super()\n\n      this.attachShadow({ mode: 'open', delegatesFocus })\n      this.shadowRoot.adoptedStyleSheets = [commonStylesheet]\n    }\n  }\n\n  return ShadowElement\n}\n\nexport { ShadowMixin }\n","const InteractiveMixin = ParentElement => {\n  class InteractiveElement extends ParentElement {\n    connectedCallback() {\n      // not yet in internals - https://github.com/WICG/webcomponents/issues/762\n      if (!this.hasAttribute('tabindex')) {\n        this.tabIndex = this.disabled ? -1 : 0\n      }\n    }\n  }\n\n  return InteractiveElement\n}\n\nexport { InteractiveMixin, internals }\n","import { AttributesMixin } from '../shared/attributes.js'\nimport { InternalsMixin, internals } from '../shared/internals.js'\nimport { ShadowMixin } from '../shared/shadow.js'\nimport { InteractiveMixin } from '../shared/interactive.js'\nimport { findClosestAncestorByTagName, onDisabledChange } from '../shared/helpers.js'\nimport thisStylesheet from './button.css'\n\nclass PiWoButton extends InteractiveMixin(ShadowMixin(InternalsMixin(AttributesMixin(HTMLElement, {\n  attributes: {\n    disabled: {\n      type: 'boolean', aria: true, state: true, reflect: true,\n      set(value) {\n        onDisabledChange(this, value)\n      }\n    },\n    name: { type: 'string', reflect: true },\n    type: { type: 'string', reflect: true },\n    outline: { type: 'string', reflect: true }\n  }\n})))) {\n  static get formAssociated() {\n    return true\n  }\n\n  constructor() {\n    super()\n    this[internals].role = 'button'\n\n    const slot = document.createElement('slot')\n    this.shadowRoot.appendChild(slot)\n    this.shadowRoot.adoptedStyleSheets.push(thisStylesheet)\n\n    this.addEventListener('click', event => this.#handleClick(event))\n    this.addEventListener('keyup', event => this.#handleKeyUp(event))\n  }\n\n  // ----- properties\n\n  get form() {\n    return this[internals].form\n  }\n\n  // ----- event handlers\n\n  #handleClick(event) {\n    if (!this.disabled &&\n        !(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey)) {\n      // give a chance to handlers registered outside of this element\n      // to prevent the default behaviour\n      setTimeout(() => {\n        if (event.defaultPrevented) return\n        // submit and reset buttons cannot be marked yet - https://github.com/WICG/webcomponents/issues/814\n        const form = this.#getForm()\n        if (form) {\n          switch (this.type) {\n            case 'reset':\n              form.reset()\n              break\n            default: // '' and 'submit'\n              this.#submitForm(form)\n          }\n        }\n      })\n    }\n  }\n\n  #handleKeyUp(event) {\n    if (!this.disabled &&\n        (event.keyCode === 13 || event.keyCode === 32) &&\n        !(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey)) {\n      this.click()\n    }\n  }\n\n  // ----- submitting the connected form\n\n  #getForm() {\n    return this.form ?? findClosestAncestorByTagName(this, 'FORM')\n  }\n\n  #submitForm(form) {\n    const { name } = this\n    if (name) {\n      this[internals].setFormValue(this.textContent.trim())\n    }\n    const submitter = document.createElement('input')\n    submitter.button = this\n    submitter.type = 'submit'\n    this.insertAdjacentElement('afterend', submitter)\n    form.submitter = submitter\n    form.requestSubmit(submitter)\n    // let submit handlers to create FormData with the submitter's name and value\n    setTimeout(() => {\n      if (name) {\n        this[internals].setFormValue(null)\n      }\n      form.submitter = undefined\n      submitter.remove()\n    })\n  }\n}\n\ncustomElements.define('piwo-button', PiWoButton)\n","import { internals } from './internals.js'\nimport { findLabels, markInvalid } from './helpers.js'\n\nconst FieldMixin = ParentElement => {\n  class FieldElement extends ParentElement {\n    static get formAssociated() {\n      return true\n    }\n\n    constructor() {\n      super()\n\n      this.addEventListener('invalid', event => this.#handleInvalid(event))\n    }\n\n    // ----- properties\n\n    get form() {\n      return this[internals].form\n    }\n\n    get labels() {\n      const labels = this[internals].labels\n      if (labels.length) return labels\n      return findLabels(this)\n    }\n\n    // ----- event handlers\n\n    #handleInvalid(event) {\n      // detect if `reportValidity` was called from a user interaction\n      if (event.explicitOriginalTarget && event.explicitOriginalTarget !== this || this.form.submitter) {\n        this.ariaInvalid = 'true'\n        if (this.describeError) {\n          event.preventDefault()\n          markInvalid(this)\n        }\n      }\n    }\n\n    // ----- form validation\n\n    get willValidate() {\n      return this[internals].willValidate\n    }\n\n    get validity() {\n      return this[internals].validity\n    }\n\n    get validationMessage() {\n      return this[internals].validationMessage\n    }\n\n    // #invalidEvent\n\n    checkValidity() {\n      return this[internals].checkValidity()\n      // if (this.willValidate) {\n      //   if (this.required && !this.checked) {\n      //     // this.ariaInvalid = 'true'\n      //     this[internals].setValidity({ valueMissing: true },\n      //       'Please check this box if you want to proceed.', this.#errorAnchor)\n      //     // this.setAttribute('aria-errormessage', this[internals].validationMessage)\n      //     this.#invalidEvent = new CustomEvent('invalid', {\n      //       bubbles: true,\n      //       cancelable: true,\n      //       composed: true\n      //     })\n      //     this.dispatchEvent(this.#invalidEvent)\n      //     return false\n      //   }\n      // }\n      // // this.ariaInvalid = 'false'\n      // this[internals].setValidity({})\n      // // this.toggleAttribute('aria-errormessage', true)\n      // return true\n    }\n\n    reportValidity() {\n      this.ariaInvalid = String(!this.validity.valid)\n      return this[internals].reportValidity()\n      // const result = this.checkValidity()\n      // if (result) {\n      //   this.#errorAnchor.textContent = ''\n      // } else {\n      //   this.#errorAnchor.textContent = this.#invalidEvent.defaultPrevented\n      //     ? '' : this[internals].validationMessage\n      // }\n      // return result\n    }\n  }\n\n  return FieldElement\n}\n\nexport { FieldMixin }\n","import { AttributesMixin } from './attributes.js'\nimport { InternalsMixin, internals } from './internals.js'\nimport { ShadowMixin } from './shadow.js'\nimport { InteractiveMixin } from './interactive.js'\nimport { FieldMixin } from './field.js'\nimport { createErrorAnchor, markInvalid, markValid, onDisabledChange, setCustomError } from './helpers.js'\nimport stylesheet from './boolean.css'\n\nconst updateValidity = Symbol('updateValidity')\nconst handleClick = Symbol('handleClick')\nconst errorAnchor = Symbol('errorAnchor')\n\nconst BooleanMixin = attributes => {\n  class BooleanElement extends FieldMixin(InteractiveMixin(ShadowMixin(InternalsMixin(AttributesMixin(HTMLElement, {\n  attributes: {\n    disabled: {\n      type: 'boolean', aria: true, state: true, reflect: true,\n      set(value) {\n        onDisabledChange(this, value)\n      }\n    },\n    readonly: { type: 'boolean', aria: 'ariaReadOnly', state: true, reflect: true },\n    required: { type: 'boolean', aria: 'ariaReadOnly', state: true, reflect: true },\n    describeerror: { type: 'boolean', property: 'describeError', reflect: true },\n    focuserror: { type: 'boolean', property: 'focusError', reflect: true },\n    name: { type: 'string', reflect: true },\n    defaultChecked: { type: 'boolean', attribute: 'checked', reflect: true },\n    ...attributes\n  }\n  }))))) {\n    constructor() {\n      super()\n      this[internals].ariaChecked = 'false'\n\n      this.shadowRoot.adoptedStyleSheets.push(stylesheet)\n      this[errorAnchor] = createErrorAnchor(this)\n\n      // this[errorAnchor].addEventListener('focus', () => this.focus())\n      this.addEventListener('click', event => this[handleClick](event))\n      this.addEventListener('keyup', event => this.#handleKeyUp(event))\n    }\n\n    // ----- properties\n\n    get type() {\n      return this.localName\n    }\n\n    // ----- life-cycle callbacks\n\n    formResetCallback() {\n      this.checked = this.defaultChecked\n    }\n\n    formStateRestoreCallback(state, _mode) { // restore or autocomplete\n      this.checked = state === 'checked'\n    }\n\n    // formAssociatedCallback(form) {\n    // }\n\n    // formDisabledCallback(disabled) {\n    //   this.disabled = disabled\n    // }\n\n    // ----- event handlers\n\n    [handleClick](event) {\n      if (!(this.disabled || this.readonly) &&\n          !(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey)) {\n        // give a chance to handlers registered outside of this element\n        // to prevent the default behaviour\n        setTimeout(() => {\n          if (event.defaultPrevented) return\n\n          const beforeInput = new CustomEvent('beforeinput', {\n            bubbles: true,\n            cancelable: true,\n            composed: true\n          })\n          this.dispatchEvent(beforeInput)\n          if (beforeInput.defaultPrevented) return\n\n          const flag = !this.checked\n          this.checked = flag\n\n          this.dispatchEvent(new CustomEvent('input', {\n            bubbles: true,\n            cancelable: false,\n            composed: true\n          }))\n          this.dispatchEvent(new CustomEvent('change', {\n            detail: {\n              checked: flag,\n            },\n            bubbles: true,\n            cancelable: false,\n            composed: true\n          }))\n        })\n      }\n    }\n\n    #handleKeyUp(event) {\n      if (!this.disabled &&\n          event.keyCode === 32 &&\n          !(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey)) {\n        // give a chance to handlers registered outside of this element\n        // to prevent the default behaviour\n        setTimeout(() => {\n          if (event.defaultPrevented) return\n          this.click()\n        })\n      }\n    }\n\n    setCustomValidity(message) {\n      // this.setAttribute('aria-errormessage', message)\n      // this.ariaInvalid = 'true' / 'false'\n      setCustomError(this, this[errorAnchor], message)\n    }\n\n    [updateValidity](keepValid) {\n      if (this.checked) {\n        this[internals].setFormValue('on', 'checked')\n      } else {\n        this[internals].setFormValue(null)\n      }\n      if (this.required && !this.checked) {\n        this[internals].setValidity({ valueMissing: true },\n          'Please check this box if you want to proceed.', this[errorAnchor])\n        if (this.getAttribute('aria-invalid') === 'true') {\n          markInvalid(this)\n        }\n      } else {\n        this[internals].setValidity({})\n        this.ariaInvalid = keepValid ? 'false': null\n        markValid(this)\n      }\n    }\n  }\n\n  return BooleanElement\n}\n\nexport { BooleanMixin, updateValidity, handleClick, errorAnchor }\n","import { BooleanMixin, updateValidity } from '../shared/boolean.js'\nimport { internals } from '../shared/internals.js'\nimport { ensureMessageElement } from '../shared/helpers.js'\nimport thisStylesheet from './checkbox.css'\n\nclass PiWoCheckbox extends BooleanMixin({\n  checked: {\n    type: 'boolean', aria: true, state: true,\n    set() {\n      this[internals].states.delete('indeterminate')\n      this[updateValidity]()\n    }\n  },\n  indeterminate: {\n    type: 'boolean', state: true,\n    set(value) {\n      if (value) {\n        this[internals].ariaChecked = 'mixed'\n      } else {\n        this[internals].ariaChecked = String(this.checked)\n      }\n    }\n  }\n}) {\n  constructor() {\n    super()\n    this[internals].role = 'checkbox'\n\n    this.shadowRoot.adoptedStyleSheets.push(thisStylesheet)\n  }\n\n  // ----- life-cycle callbacks\n\n  connectedCallback() {\n    super.connectedCallback()\n    const keepValid = this.getAttribute('aria-invalid') === 'false'\n    this.checked = this.defaultChecked\n    if (this.hasAttribute('indeterminate')) {\n      this.indeterminate = true\n    }\n    this[updateValidity](keepValid)\n    if (this.validity.valid) {\n      ensureMessageElement(this)\n    }\n  }\n}\n\ncustomElements.define('piwo-checkbox', PiWoCheckbox)\n","import { AttributesMixin } from '../shared/attributes.js'\nimport { ShadowMixin } from '../shared/shadow.js'\nimport thisStylesheet from './container.css'\n\nclass PiWoContainer extends ShadowMixin(AttributesMixin(HTMLElement)) {\n  #slot\n\n  constructor() {\n    super()\n    this.#slot = document.createElement('slot')\n    this.shadowRoot.appendChild(this.#slot)\n    this.shadowRoot.adoptedStyleSheets.push(thisStylesheet)\n  }\n}\n\ncustomElements.define('piwo-container', PiWoContainer)\n","import { AttributesMixin } from '../shared/attributes.js'\nimport { InternalsMixin, internals } from '../shared/internals.js'\nimport { ShadowMixin } from '../shared/shadow.js'\nimport { setCustomError } from '../shared/helpers.js'\nimport thisStylesheet from './fieldset.css'\n\nlet counter = 0\n\nclass PiWoFieldSet extends ShadowMixin(InternalsMixin(AttributesMixin(HTMLElement, {\n  attributes: {\n    disabled: { type: 'boolean', aria: true, state: true, reflect: true },\n    name: { type: 'string', reflect: true }\n  }\n}))) {\n  #slot\n\n  static get formAssociated() {\n    return true\n  }\n\n  constructor() {\n    super()\n    this[internals].role = 'group'\n\n    this.#slot = document.createElement('slot')\n    this.shadowRoot.appendChild(this.#slot)\n    this.shadowRoot.adoptedStyleSheets.push(thisStylesheet)\n\n    this.#slot.addEventListener('slotchange', () => this.#updateLegend())\n  }\n\n  // ----- properties\n\n  get form() {\n    return this[internals].form\n  }\n\n  get type() {\n    return this.localName\n  }\n\n  get elements() {\n    const descendants = this.querySelectorAll('*')\n    return Array\n      .from(descendants)\n      .filter(el => el.formAssociated && (el.value !== undefined || el.checked !== undefined))\n  }\n\n  // ----- form validation\n\n  get willValidate() {\n    return false\n  }\n\n  get validity() {\n    return this[internals].validity\n  }\n\n  get validationMessage() {\n    return this[internals].validationMessage\n  }\n\n  checkValidity() {\n    return true\n  }\n\n  reportValidity() {\n    return true\n  }\n\n  setCustomValidity(message) {\n    setCustomError(this, this[innerInput], message)\n  }\n\n  // ----- connecting a legend to a fieldset\n\n  async #updateLegend() {\n    await Promise.resolve()\n    const oldTarget = this.#getConnectedLegend()\n    const newTarget = this.#getIncludedLegend()\n    if (!newTarget || oldTarget === newTarget) return\n    if (oldTarget) {\n      this.removeAttribute('aria-labelledby')\n    }\n    if (!newTarget.id) {\n      newTarget.id = `legend${counter++}`\n    }\n    this.setAttribute('aria-labelledby', newTarget.id)\n  }\n\n  #getConnectedLegend() {\n    const id = this.getAttribute('aria-labelledby')\n    if (!id) return null\n    const root = this.getRootNode()\n    return root.getElementById(id)\n  }\n\n  #getIncludedLegend() {\n    const children = this.#slot.assignedElements({ flatten: true })\n    const legend = children.find(({ tagName }) => tagName === 'PIWO-LEGEND')\n    return legend\n  }\n}\n\ncustomElements.define('piwo-fieldset', PiWoFieldSet)\n","import { AttributesMixin } from '../shared/attributes.js'\nimport { InternalsMixin, internals } from '../shared/internals.js'\nimport { ShadowMixin } from '../shared/shadow.js'\nimport thisStylesheet from './h.css'\n\nclass PiWoHeading extends ShadowMixin(InternalsMixin(AttributesMixin(HTMLElement, {\n  attributes: {\n    level: { type: 'string', aria: true, reflect: true }\n  }\n}))) {\n  constructor() {\n    super()\n    this[internals].role = 'heading'\n\n    const slot = document.createElement('slot')\n    this.shadowRoot.appendChild(slot)\n    this.shadowRoot.adoptedStyleSheets.push(thisStylesheet)\n  }\n}\n\ncustomElements.define('piwo-h', PiWoHeading)\n","import { AttributesMixin } from '../shared/attributes.js'\nimport { InternalsMixin, internals } from '../shared/internals.js'\nimport { ShadowMixin } from '../shared/shadow.js'\nimport thisStylesheet from './hr.css'\n\nclass PiWoHorizontalRule extends ShadowMixin(InternalsMixin(AttributesMixin(HTMLElement))) {\n  constructor() {\n    super()\n    this[internals].role = 'separator'\n\n    this.shadowRoot.adoptedStyleSheets.push(thisStylesheet)\n  }\n}\n\ncustomElements.define('piwo-hr', PiWoHorizontalRule)\n","import { AttributesMixin } from '../shared/attributes.js'\nimport { InternalsMixin, internals } from '../shared/internals.js'\nimport { ShadowMixin } from '../shared/shadow.js'\nimport { InteractiveMixin } from '../shared/interactive.js'\nimport { FieldMixin } from '../shared/field.js'\nimport { ensureMessageElement, markInvalid, markValid, onDisabledChange, setCustomError } from '../shared/helpers.js'\nimport thisStylesheet from './input.css'\n\nconst innerInput = Symbol('innerInput')\nconst updateValidity = Symbol('updateValidity')\n\nclass PiWoInput extends FieldMixin(InteractiveMixin(ShadowMixin(InternalsMixin(AttributesMixin(HTMLElement, {\n  attributes: {\n    disabled: {\n      type: 'boolean', aria: true, state: true, reflect: true,\n      set(value) {\n        onDisabledChange(this, value)\n      }\n    },\n    readonly: { type: 'boolean', aria: 'ariaReadOnly', state: true, reflect: true },\n    required: {\n      type: 'boolean', aria: true, state: true, reflect: true,\n      set(value) {\n        this[innerInput].required = value\n      }\n    },\n    multiple: {\n      type: 'boolean', aria: true, reflect: true,\n      set(value) {\n        this[innerInput].multiple = value\n      }\n    },\n    describeerror: { type: 'boolean', property: 'describeError', reflect: true },\n    focuserror: { type: 'boolean', property: 'focusError', reflect: true },\n    ticks: { type: 'boolean', state: true, reflect: true },\n    name: { type: 'string', reflect: true },\n    type: {\n      type: 'string', reflect: true,\n      set(value) {\n        this[innerInput].type = value\n      }\n    },\n    autocomplete: {\n      type: 'string', reflect: true,\n      set() {\n        this[innerInput].autocomplete = value\n      }\n    },\n    pattern: {\n      type: 'string', reflect: true,\n      set(value) {\n        this[innerInput].pattern = value\n      }\n    },\n    placeholder: {\n      type: 'string', reflect: true,\n      set(value) {\n        this[innerInput].placeholder = value\n      }\n    },\n    max: {\n      type: 'string', reflect: true,\n      set(value) {\n        this[innerInput].max = value\n      }\n    },\n    min: {\n      type: 'string', reflect: true,\n      set(value) {\n        this[innerInput].min = value\n      }\n    },\n    step: {\n      type: 'number', reflect: true,\n      set(value) {\n        this[innerInput].step = value\n      }\n    },\n    maxlength: {\n      type: 'number', property: 'maxLength', value: -1, internals: true, reflect: true,\n      set(value) {\n        this[innerInput].maxLength = value\n      }\n    },\n    minlength: {\n      type: 'number', property: 'minLength', value: -1, internals: true, reflect: true,\n      set(value) {\n        this[innerInput].minLength = value\n      }\n    },\n    value: {\n      type: 'string',\n      get() {\n        if (this.type === 'file') return this[innerInput].value\n      },\n      set(value) {\n        if (this.type !== 'file') {\n          this[innerInput].value = value\n        }\n        if (value) this[internals].states.add('empty')\n        else this[internals].states.delete('empty')\n        this[updateValidity]()\n      }\n    },\n    defaultValue: { type: 'string', attribute: 'value', reflect: true }\n  }\n})), {\n  delegatesFocus: true\n}))) {\n  #dataSlot\n  #dataList\n\n  constructor() {\n    super()\n    this[internals].role = 'textbox'\n\n    this.shadowRoot.adoptedStyleSheets.push(thisStylesheet)\n    this.#dataSlot = document.createElement('slot')\n    this.#dataSlot.name = 'data'\n    this.shadowRoot.appendChild(this.#dataSlot)\n    this[innerInput] = document.createElement('input')\n    this[innerInput].ariaHidden = 'true'\n    this.shadowRoot.appendChild(this[innerInput])\n\n    this.#dataSlot.addEventListener('slotchange', () => this.#updateData())\n    this[innerInput].addEventListener('beforeinput', event => this.#handleBeforeInput(event))\n    this[innerInput].addEventListener('input', event => this.#handleInputAndChange(event))\n    this[innerInput].addEventListener('change', event => this.#handleInputAndChange(event))\n  }\n\n  // ----- properties\n\n  get files() {\n    return this[innerInput].files\n  }\n\n  // ----- life-cycle callbacks\n\n  connectedCallback() {\n    super.connectedCallback()\n    const keepValid = this.getAttribute('aria-invalid') === 'false'\n    this.value = this.defaultValue\n    this[updateValidity](keepValid)\n    if (this.validity.valid) {\n      ensureMessageElement(this)\n    }\n  }\n\n  formResetCallback() {\n    this.value = this.defaultValue\n  }\n\n  formStateRestoreCallback(state, _mode) { // restore or autocomplete\n    this.value = state\n  }\n\n  // formAssociatedCallback(_form) {\n  // }\n\n  formDisabledCallback(disabled) {\n    this[innerInput].disabled = disabled\n  }\n\n  // ----- event handlers\n\n  #handleBeforeInput(event) {\n    const newEvent = this.#forwardEvent(event)\n    if (newEvent.defaultPrevented) {\n      event.preventDefault()\n    }\n  }\n\n  #handleInputAndChange(event) {\n    this.value = this[innerInput].value\n    this.#forwardEvent(event)\n  }\n\n  #forwardEvent(event) {\n    const newEvent = new event.constructor(event.type, event)\n    this.dispatchEvent(newEvent)\n    return newEvent\n  }\n\n  #updateData() {\n    const dataOrigin = this.#dataSlot.assignedElements()[0]\n    if (dataOrigin?.tagName === 'DATALIST') {\n      const dataList = dataOrigin.cloneNode(true)\n      dataList.id = 'data'\n      dataList.style.setProperty('--option-count', dataList.options.length)\n      if (this.#dataList) {\n        this.shadowRoot.replaceChild(dataList, this.#dataList)\n      } else {\n        this.shadowRoot.appendChild(dataList)\n        this[innerInput].setAttribute('list', 'data')\n      }\n      this.#dataList = dataList\n    } else if (this.#dataList) {\n      this[innerInput].removeAttribute('list')\n      this.#dataList.remove()\n      this.#dataList = null\n    }\n    this[updateValidity]()\n  }\n\n  // ----- form validation\n\n  checkValidity() {\n    return super.checkValidity() && this[innerInput].checkValidity()\n  }\n\n  reportValidity() {\n    return super.reportValidity() && this[innerInput].checkValidity()\n  }\n\n  setCustomValidity(message) {\n    setCustomError(this, this[innerInput], message)\n  }\n\n  [updateValidity](keepValid) {\n    if (this.type !== 'file') {\n      this[internals].setFormValue(this.value, this.value)\n    } else if (this.files) {\n      const value = this.files.length === 1 ? this.files[0] : this.files\n      this[internals].setFormValue(value, value)\n    }\n    const { validity } = this[innerInput]\n    if (validity.valid) {\n      this[internals].setValidity({})\n      this.ariaInvalid = keepValid ? 'false': null\n      markValid(this)\n    } else {\n      this[internals].setValidity(validity,\n        this[innerInput].validationMessage, this[innerInput])\n      if (this.getAttribute('aria-invalid') === 'true') {\n        markInvalid(this)\n      }\n    }\n  }\n}\n\ncustomElements.define('piwo-input', PiWoInput)\n","import { AttributesMixin } from '../shared/attributes.js'\nimport { ShadowMixin } from '../shared/shadow.js'\nimport thisStylesheet from './label.css'\n\nconst updateLabel = Symbol('updateLabel')\nlet counter = 0\n\nclass PiWoLabel extends ShadowMixin(AttributesMixin(HTMLElement, {\n  attributes: {\n    for: {\n      type: 'string', property: 'htmlFor', reflect: true,\n      set() {\n        if (this.isConnected) this[updateLabel]()\n      }\n    }\n  }\n})) {\n  #slot\n\n  constructor() {\n    super()\n    this.#slot = document.createElement('slot')\n    this.shadowRoot.appendChild(this.#slot)\n    this.shadowRoot.adoptedStyleSheets.push(thisStylesheet)\n\n    this.#slot.addEventListener('slotchange', () => this[updateLabel]())\n    this.addEventListener('click', event => this.#handleClick(event))\n  }\n\n  // ----- life-cycle callbacks\n\n  connectedCallback() {\n    this[updateLabel]()\n  }\n\n  // ----- event handlers\n\n  #handleClick(event) {\n    if (event.metaKey || event.altKey || event.ctrlKey || event.shiftKey) return\n    const labelledTarget = this.#getLabelledTarget()\n    if (!labelledTarget || labelledTarget.disabled || event.target === labelledTarget) return\n    labelledTarget.focus()\n    labelledTarget.click()\n  }\n\n  // ----- connecting the label to a field\n\n  async [updateLabel]() {\n    // let the caller create the full markup after setting the `for` attribute\n    await Promise.resolve()\n    if (!this.id) {\n      this.id = `label${counter++}`\n    }\n    const oldTarget = this.#getLabelledTarget()\n    const newTarget = this.#getPointedTarget()\n    if (!newTarget || oldTarget === newTarget) return\n    if (oldTarget) {\n      oldTarget.removeAttribute('aria-labelledby')\n    }\n    newTarget.setAttribute('aria-labelledby', this.id)\n  }\n\n  #getLabelledTarget() {\n    const root = this.getRootNode()\n    return root.querySelector(`[aria-labelledby=\"${this.id}\"]`)\n  }\n\n  #getPointedTarget() {\n    // label cannot be delegated yet - https://github.com/WICG/webcomponents/issues/917\n    const targetId = this.htmlFor\n    if (targetId) {\n      const scope = this.getRootNode()\n      return scope.getElementById(targetId)\n    }\n    const children = this.#slot.assignedElements({ flatten: true })\n    const input = children.find(({ labels }) => labels)\n    return input ?? children[0]\n  }\n}\n\ncustomElements.define('piwo-label', PiWoLabel)\n","import { ShadowMixin } from '../shared/shadow.js'\nimport { findClosestAncestorByTagName } from '../shared/helpers.js'\nimport thisStylesheet from './legend.css'\n\nclass PiWoLegend extends ShadowMixin(HTMLElement) {\n  static get formAssociated() {\n    return true\n  }\n\n  constructor() {\n    super()\n\n    const slot = document.createElement('slot')\n    this.shadowRoot.appendChild(slot)\n    this.shadowRoot.adoptedStyleSheets.push(thisStylesheet)\n  }\n\n  // ----- properties\n\n  get form() {\n    const fieldSet = findClosestAncestorByTagName(this, 'PIWO-FIELDSET')\n    return fieldSet?.form\n  }\n}\n\ncustomElements.define('piwo-legend', PiWoLegend)\n","import { AttributesMixin } from '../shared/attributes.js'\nimport { InternalsMixin, internals } from '../shared/internals.js'\nimport { ShadowMixin } from '../shared/shadow.js'\nimport { InteractiveMixin } from '../shared/interactive.js'\nimport thisStylesheet from './link.css'\n\nclass PiWoLink extends InteractiveMixin(ShadowMixin(InternalsMixin(AttributesMixin(HTMLElement, {\n  attributes: {\n    href: { type: 'string', reflect: true },\n    target: { type: 'string', reflect: true },\n    referrerpolicy: { type: 'string', property: 'referrerPolicy', reflect: true },\n    rel: { type: 'string', reflect: true }\n  }\n})))) {\n  constructor() {\n    super()\n    this[internals].role = 'link'\n\n    const slot = document.createElement('slot')\n    this.shadowRoot.appendChild(slot)\n    this.shadowRoot.adoptedStyleSheets.push(thisStylesheet)\n\n    this.addEventListener('click', event => this.#handleClick(event))\n    this.addEventListener('keyup', event => this.#handleKeyUp(event))\n  }\n\n  // ----- event handlers\n\n  #handleClick(event) {\n    if (event.metaKey || event.altKey || event.ctrlKey || event.shiftKey) return\n    // give a chance to handlers registered outside of this element\n    // to prevent the default behaviour\n    setTimeout(() => {\n      if (event.defaultPrevented) return\n      if (this.target) {\n        const features = []\n        if (this.referrerPolicy.includes('no-referrer')) {\n          features.push('noreferrer', 'noopener')\n        } else {\n          if (this.rel.includes('noreferrer')) {\n            features.push('noreferrer')\n          }\n          if (this.rel.includes('noopener')) {\n            features.push('noopener')\n          }\n        }\n        window.open(this.href, this.target, features.join(''))\n      } else {\n        location.href = this.href\n      }\n    })\n  }\n\n  #handleKeyUp(event) {\n    if (event.keyCode === 13 &&\n        !(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey)) {\n      this.click()\n    }\n  }\n}\n\ncustomElements.define('piwo-link', PiWoLink)\n","import { AttributesMixin } from '../shared/attributes.js'\nimport { InternalsMixin, internals } from '../shared/internals.js'\nimport { ShadowMixin } from '../shared/shadow.js'\nimport thisStylesheet from './p.css'\n\nclass PiWoParagraph extends ShadowMixin(InternalsMixin(AttributesMixin(HTMLElement))) {\n  constructor() {\n    super()\n    this[internals].role = 'paragraph'\n\n    const slot = document.createElement('slot')\n    this.shadowRoot.appendChild(slot)\n    this.shadowRoot.adoptedStyleSheets.push(thisStylesheet)\n  }\n}\n\ncustomElements.define('piwo-p', PiWoParagraph)\n","import { BooleanMixin, updateValidity, handleClick, errorAnchor } from '../shared/boolean.js'\nimport { internals } from '../shared/internals.js'\nimport { ensureMessageElement, markValid } from '../shared/helpers.js'\nimport thisStylesheet from './radio.css'\n\nclass PiWoRadio extends BooleanMixin({\n  value: { type: 'string', reflect: true },\n  checked: {\n    type: 'boolean', aria: true, state: true,\n    set(value) {\n      if (value) {\n        uncheckOtherRadio(this)\n      }\n      this[updateValidity]()\n    }\n  }\n}) {\n  constructor() {\n    super()\n    this[internals].role = 'radio'\n\n    this.shadowRoot.adoptedStyleSheets.push(thisStylesheet)\n  }\n\n  // ----- life-cycle callbacks\n\n  connectedCallback() {\n    super.connectedCallback()\n    const keepValid = this.getAttribute('aria-invalid') === 'false'\n    this.checked = this.defaultChecked\n    this[updateValidity](keepValid)\n    if (this.validity.valid) {\n      ensureMessageElement(this)\n    }\n  }\n\n  formStateRestoreCallback(state, _mode) { // restore or autocomplete\n    this.checked = state === this.value\n  }\n\n  // ----- event handlers\n\n  [handleClick](event) {\n    if (this.checked) return\n    return super[handleClick](event)\n  }\n\n  [updateValidity](keepValid) {\n    if (this.checked) {\n      this[internals].setFormValue(this.value, this.value)\n    } else {\n      this[internals].setFormValue(null)\n    }\n\n    const required = getRequiredRadios(this)\n    if (required.length) {\n      const checked = getCheckedRadios(this)\n      if (!checked.length) {\n        this[internals].setValidity({ valueMissing: true },\n          'Please check one of these boxes if you want to proceed.', this[errorAnchor])\n        if (this.getAttribute('aria-invalid') === 'true') {\n          markInvalid(this)\n        }\n        return\n      }\n    }\n\n    this[internals].setValidity({})\n    this.ariaInvalid = keepValid ? 'false': null\n    markValid(this)\n  }\n}\n\nfunction getRequiredRadios(radio) {\n  return getRadios(radio, '[required]')\n}\n\nfunction getCheckedRadios(radio) {\n  return getRadios(radio, ':state(checked)')\n}\n\nfunction getRadios(radio, state) {\n  const source = radio.form ?? document\n  const radios = source.querySelectorAll(`piwo-radio[name=\"${radio.name}\"]${state}`)\n  return radios\n}\n\nfunction uncheckOtherRadio(radio) {\n  const radios = getCheckedRadios(radio)\n  for (const otherRadio of radios) {\n    if (otherRadio === radio) continue\n    otherRadio.checked = false\n    otherRadio.dispatchEvent(new CustomEvent('input', {\n      bubbles: true,\n      cancelable: false,\n      composed: true\n    }))\n    otherRadio.dispatchEvent(new CustomEvent('change', {\n      detail: {\n        checked: false,\n      },\n      bubbles: true,\n      cancelable: false,\n      composed: true\n    }))\n    break\n  }\n}\n\ncustomElements.define('piwo-radio', PiWoRadio)\n","import { AttributesMixin } from '../shared/attributes.js'\nimport { InternalsMixin, internals } from '../shared/internals.js'\nimport { ShadowMixin } from '../shared/shadow.js'\nimport { InteractiveMixin } from '../shared/interactive.js'\nimport { FieldMixin } from '../shared/field.js'\nimport { ensureMessageElement, markInvalid, markValid, onDisabledChange, setCustomError } from '../shared/helpers.js'\nimport thisStylesheet from './select.css'\n\nconst innerSelect = Symbol('innerSelect')\nconst updateValidity = Symbol('updateValidity')\n\nclass PiWoSelect extends FieldMixin(InteractiveMixin(ShadowMixin(InternalsMixin(AttributesMixin(HTMLElement, {\n  attributes: {\n    disabled: {\n      type: 'boolean', aria: true, state: true, reflect: true,\n      set(value) {\n        onDisabledChange(this, value)\n      }\n    },\n    readonly: { type: 'boolean', aria: 'ariaReadOnly', state: true, reflect: true },\n    required: {\n      type: 'boolean', aria: true, state: true, reflect: true,\n      set(value) {\n        this[innerSelect].required = value\n      }\n    },\n    multiple: {\n      type: 'boolean', aria: true, reflect: true,\n      set(value) {\n        this[innerSelect].multiple = value\n      }\n    },\n    describeerror: { type: 'boolean', property: 'describeError', reflect: true },\n    focuserror: { type: 'boolean', property: 'focusError', reflect: true },\n    name: { type: 'string', reflect: true },\n    autocomplete: {\n      type: 'string', reflect: true,\n      set() {\n        this[innerSelect].autocomplete = value\n      }\n    }\n  }\n})), {\n  delegatesFocus: true\n}))) {\n  #slot\n  #firstSlotChanged = true\n\n  constructor() {\n    super()\n    this[internals].role = 'listbox'\n\n    this.shadowRoot.adoptedStyleSheets.push(thisStylesheet)\n    this.#slot = document.createElement('slot')\n    this.shadowRoot.appendChild(this.#slot)\n    this[innerSelect] = document.createElement('select')\n    // this[innerSelect].ariaHidden = 'true'\n    this.shadowRoot.appendChild(this[innerSelect])\n\n    this.#slot.addEventListener('slotchange', () => this.#updateOptions())\n    this[innerSelect].addEventListener('beforeinput', event => this.#handleBeforeInput(event))\n    this[innerSelect].addEventListener('input', event => this.#handleInputAndChange(event))\n    this[innerSelect].addEventListener('change', event => this.#handleInputAndChange(event))\n  }\n\n    // ----- properties\n\n    get length() {\n      return this[innerSelect].length\n    }\n\n    get options() {\n      return this[innerSelect].options\n    }\n\n    get selectedIndex() {\n      return this[innerSelect].selectedIndex\n    }\n\n    set selectedIndex(value) {\n      this[innerSelect].selectedIndex = value\n      this[updateValidity]()\n    }\n\n    get selectedOptions() {\n      return this[innerSelect].selectedOptions\n    }\n\n    get type() {\n      return this.multiple ? 'select-multiple' : 'select-one'\n    }\n\n    get value() {\n      return this[innerSelect].value\n    }\n\n    set value(value) {\n      this[innerSelect].value = value\n      this[updateValidity]()\n    }\n\n  // ----- life-cycle callbacks\n\n  connectedCallback() {\n    super.connectedCallback()\n    if (!this.size) {\n      this.size = this.multiple ? 4 : 1\n    }\n    const keepValid = this.getAttribute('aria-invalid') === 'false'\n    // this.value = this.defaultValue\n    this[updateValidity](keepValid)\n    if (this.validity.valid) {\n      ensureMessageElement(this)\n    }\n  }\n\n  formResetCallback() {\n    // this.value = this.defaultValue\n  }\n\n  formStateRestoreCallback(state, _mode) { // restore or autocomplete\n    this.value = state\n  }\n\n  formDisabledCallback(disabled) {\n    this[innerSelect].disabled = disabled\n  }\n\n  // ----- event handlers\n\n  #handleBeforeInput(event) {\n    const newEvent = this.#forwardEvent(event)\n    if (newEvent.defaultPrevented) {\n      event.preventDefault()\n    }\n  }\n\n  #handleInputAndChange(event) {\n    this.value = this[innerSelect].value\n    this.#forwardEvent(event)\n  }\n\n  #forwardEvent(event) {\n    const newEvent = new event.constructor(event.type, event)\n    this.dispatchEvent(newEvent)\n    return newEvent\n  }\n\n  #updateOptions() {\n    const slotted = this.#slot.assignedElements()\n    const options = Array\n      .from(slotted)\n      .map(option => option.cloneNode(true))\n    this[innerSelect].replaceChildren(...options)\n    let keepValid\n    if (this.#firstSlotChanged) {\n      keepValid = this.getAttribute('aria-invalid') === 'false'\n      this.#firstSlotChanged = false\n    }\n    this[updateValidity](keepValid)\n  }\n\n  // ----- form validation\n\n  checkValidity() {\n    return super.checkValidity() && this[innerSelect].checkValidity()\n  }\n\n  reportValidity() {\n    return super.reportValidity() && this[innerSelect].checkValidity()\n  }\n\n  setCustomValidity(message) {\n    setCustomError(this, this[innerSelect], message)\n  }\n\n  [updateValidity](keepValid) {\n    this[internals].setFormValue(this.value, this.value)\n    const { validity } = this[innerSelect]\n    if (validity.valid) {\n      this[internals].setValidity({})\n      this.ariaInvalid = keepValid ? 'false': null\n      markValid(this)\n    } else {\n      this[internals].setValidity(validity,\n        this[innerSelect].validationMessage, this[innerSelect])\n      if (this.getAttribute('aria-invalid') === 'true') {\n        markInvalid(this)\n      }\n    }\n  }\n}\n\ncustomElements.define('piwo-select', PiWoSelect)\n","import { AttributesMixin } from '../shared/attributes.js'\nimport { ShadowMixin } from '../shared/shadow.js'\nimport thisStylesheet from './small.css'\n\nclass PiWoSmall extends ShadowMixin(AttributesMixin(HTMLElement)) {\n  #slot\n\n  constructor() {\n    super()\n    this.#slot = document.createElement('slot')\n    this.shadowRoot.appendChild(this.#slot)\n    this.shadowRoot.adoptedStyleSheets.push(thisStylesheet)\n  }\n}\n\ncustomElements.define('piwo-small', PiWoSmall)\n","import { AttributesMixin } from '../shared/attributes.js'\nimport { ShadowMixin } from '../shared/shadow.js'\nimport thisStylesheet from './spacer.css'\n\nconst updateSpace = Symbol('updateSpace')\n\nclass PiWoSpacer extends ShadowMixin(AttributesMixin(HTMLElement, {\n  attributes: {\n    factor: {\n      type: 'number', reflect: true,\n      set() {\n        this[updateSpace]() \n      }\n    },\n    typography: { type: 'boolean', reflect: true }\n  }\n})) {\n  constructor() {\n    super()\n\n    this.shadowRoot.adoptedStyleSheets.push(thisStylesheet)\n  }\n\n  [updateSpace]() {\n    if (this.factor !== 1) {\n      this.style.setProperty('--pico-spacing-factor', this.factor)\n    } else {\n      this.style.removeProperty('--pico-spacing-factor')\n    }\n  }\n}\n\ncustomElements.define('piwo-spacer', PiWoSpacer)\n","import { BooleanMixin, updateValidity } from '../shared/boolean.js'\nimport { internals } from '../shared/internals.js'\nimport { ensureMessageElement } from '../shared/helpers.js'\nimport thisStylesheet from './switch.css'\n\nclass PiWoSwitch extends BooleanMixin({\n  checked: {\n    type: 'boolean', aria: true, state: true,\n    set() {\n      this[updateValidity]()\n    }\n  }\n}) {\n  constructor() {\n    super()\n    this[internals].role = 'switch'\n\n    this.shadowRoot.adoptedStyleSheets.push(thisStylesheet)\n  }\n\n  // ----- life-cycle callbacks\n\n  connectedCallback() {\n    super.connectedCallback()\n    const keepValid = this.getAttribute('aria-invalid') === 'false'\n    this.checked = this.defaultChecked\n    this[updateValidity](keepValid)\n    if (this.validity.valid) {\n      ensureMessageElement(this)\n    }\n  }\n}\n\ncustomElements.define('piwo-switch', PiWoSwitch)\n","import { AttributesMixin } from '../shared/attributes.js'\nimport { InternalsMixin, internals } from '../shared/internals.js'\nimport { ShadowMixin } from '../shared/shadow.js'\nimport { InteractiveMixin } from '../shared/interactive.js'\nimport { FieldMixin } from '../shared/field.js'\nimport { createErrorAnchor, ensureMessageElement, formatPlural, markInvalid, markValid, onDisabledChange, setCustomError } from '../shared/helpers.js'\nimport thisStylesheet from './textarea.css'\n\nconst updateValidity = Symbol('updateValidity')\n\nclass PiWoTextArea extends FieldMixin(InteractiveMixin(ShadowMixin(InternalsMixin((AttributesMixin(HTMLElement, {\n  attributes: {\n    disabled: {\n      type: 'boolean', aria: true, state: true, reflect: true,\n      set(value) {\n        onDisabledChange(this, value)\n      }\n    },\n    readonly: { type: 'boolean', aria: 'ariaReadOnly', state: true, reflect: true },\n    required: { type: 'boolean', aria: 'ariaReadOnly', state: true, reflect: true },\n    describeerror: { type: 'boolean', property: 'describeError', reflect: true },\n    focuserror: { type: 'boolean', property: 'focusError', reflect: true },\n    name: { type: 'string', reflect: true },\n    placeholder: { type: 'string', internals: true, aria: true, reflect: true },\n    maxlength: { type: 'number', property: 'maxLength', value: -1, internals: true, reflect: true },\n    minlength: { type: 'number', property: 'minLength', value: -1, internals: true, reflect: true },\n    value: {\n      type: 'string',\n      set(value) {\n        this.textContent = value\n        this[updateValidity]()\n      }\n    },\n    defaultValue: { type: 'string', attribute: 'value', reflect: true }\n  }\n})))))) {\n  #errorAnchor\n\n  constructor() {\n    super()\n    this[internals].role = 'textbox'\n    this[internals].ariaMultiLine = true\n\n    this.shadowRoot.adoptedStyleSheets.push(thisStylesheet)\n    const slot = document.createElement('slot')\n    this.shadowRoot.appendChild(slot)\n    this.#errorAnchor = createErrorAnchor(this)\n\n    // this.#errorAnchor.addEventListener('focus', () => this.focus())\n    this.addEventListener('beforeinput', event => this.#handleBeforeInput(event))\n    this.addEventListener('input', event => this.#handleInput(event))\n    this.addEventListener('blur', event => this.#handleBlur(event))\n  }\n\n  // ----- life-cycle callbacks\n\n  connectedCallback() {\n    super.connectedCallback()\n    // try {\n    //   this.contentEditable = 'plaintext-only'\n    // } catch {\n    this.contentEditable = true\n    // }\n    const keepValid = this.getAttribute('aria-invalid') === 'false'\n    this.value = this.defaultValue = this.textContent\n    this[updateValidity](keepValid)\n    if (this.validity.valid) {\n      ensureMessageElement(this)\n    }\n  }\n\n  formResetCallback() {\n    this.value = this.defaultValue\n  }\n\n  formStateRestoreCallback(state, _mode) { // restore or autocomplete\n    this.value = state\n  }\n\n  // formAssociatedCallback(form) {\n  // }\n\n  // formDisabledCallback(disabled) {\n  // }\n\n  // ----- event handlers\n\n  #handleBeforeInput(event) {\n    if (this.readonly) {\n      event.preventDefault()\n    }\n  }\n\n  #dirty = false\n\n  #handleInput() {\n    this.#dirty = true\n    this.value = this.textContent\n  }\n\n  #handleBlur() {\n    if (this.#dirty) {\n      this.#dirty = false\n      this.dispatchEvent(new CustomEvent('change', {\n        detail: {\n          value: this.value,\n        },\n        bubbles: true,\n        cancelable: false,\n        composed: true\n      }))\n    }\n  }\n\n  // ----- form validation\n\n  setCustomValidity(message) {\n    setCustomError(this, this.#errorAnchor, message)\n  }\n\n  [updateValidity](keepValid) {\n    this[internals].setFormValue(this.value, this.value)\n    const { length } = this.value\n    const criteria = []\n    let message\n    if (this.required && !length) {\n      criteria.push('valueMissing')\n      message = 'Please fill out this field.'\n    }\n    if (this.minLength > 0 && this.minLength > length) {\n      criteria.push('tooShort')\n      if (!message) {\n        message = `Please use at least ${formatPlural(this.minLength, 'character')} characters (you are currently using ${formatPlural(length, 'character')}).`\n      }\n    }\n    if (this.minLength > 0 && this.maxLength < length) {\n      criteria.push('tooLong')\n      if (!message) {\n        message = `Please use at most ${formatPlural(this.maxLength, 'character')} characters (you are currently using ${formatPlural(length, 'character')}).`\n      }\n    }\n    if (message) {\n      const validity = {}\n      for (const criterion of criteria) {\n        validity[criterion] = true\n      }\n      this[internals].setValidity(validity, message, this.#errorAnchor)\n      if (this.getAttribute('aria-invalid') === 'true') {\n        markInvalid(this)\n      }\n      return\n    }\n    this[internals].setValidity({})\n    this.ariaInvalid = keepValid ? 'false': null\n    markValid(this)\n  }\n}\n\ncustomElements.define('piwo-textarea', PiWoTextArea)\n","let idCounter = 0\n\nfunction getTitle(fieldSchema, fieldOptions) {\n  return fieldOptions.label || fieldSchema.title\n}\n\nfunction getValue(fieldData, fieldSchema) {\n  return fieldData ?? fieldSchema.default\n}\n\nfunction createLabel() {\n  const label = document.createElement('piwo-label')\n  return label\n}\n\nfunction appendMessage(form, field, fieldSchema, fieldOptions) {\n  const msg = document.createElement('piwo-small')\n  const id = `msg${idCounter++}`\n  msg.id = id\n  field.setAttribute('aria-describedby', id)\n  if (fieldOptions.helper) {\n    const text = document.createTextNode(fieldOptions.helper || fieldSchema.description)\n    msg.appendChild(text)\n  }\n  form.appendChild(msg)\n}\n\nfunction appendSeparateLabel(form, tagName, fieldSchema, fieldOptions) {\n  const label = createLabel()\n  const id = `${tagName}${idCounter++}`\n  label.htmlFor = id\n  let title = getTitle(fieldSchema, fieldOptions)\n  if (!title.endsWith(':')) title += ':'\n  const text = document.createTextNode(title)\n  label.appendChild(text)\n  form.appendChild(label)\n  return id\n}\n\nfunction createField(tagName, fieldName, fieldSchema, fieldOptions, parentSchema) {\n  const field = document.createElement(`piwo-${tagName}`)\n  field.name = fieldName\n  applyCommonConstraints(field, fieldSchema, fieldOptions, parentSchema)\n  return field\n}\n\nfunction applyCommonConstraints(field, fieldSchema, fieldOptions, parentSchema) {\n  if (fieldSchema.required || parentSchema.required?.includes(field.name)) field.required = true\n  if (fieldSchema.readonly || fieldSchema.readOnly) field.readonly = true\n  if (fieldOptions.disabled) field.disabled = true\n  field.describeError = true\n  field.focusError = true\n}\n\nfunction applyRangeConstraints(field, fieldSchema, fieldOptions) {\n  if (fieldSchema.maximum != null) field.max = fieldSchema.maximum\n  if (fieldSchema.minimum != null) field.min = fieldSchema.minimum\n  if (fieldOptions.step != null) field.step = fieldSchema.step\n}\n\nfunction applySizeConstraints(field, fieldSchema) {\n  if (fieldSchema.maxLength != null) field.maxLength = fieldSchema.maxLength\n  if (fieldSchema.minLength != null) field.minLength = fieldSchema.minLength\n}\n\nfunction applyTextConstraints(field, fieldOptions) {\n  if (fieldOptions.autocomplete) field.autocomplete = true\n  if (fieldOptions.placeholder) field.placeholder = fieldOptions.placeholder\n}\n\nfunction appendDataList(input, fieldSchema, fieldOptions) {\n  let { enum: values } = fieldSchema\n  const { optionLabels } = fieldOptions\n  if (values || optionLabels) {\n    const dataList = document.createElement('datalist')\n    dataList.slot = 'data'\n    if (!values) {\n      const { minimum, maximum } = fieldSchema\n      const { step } = fieldOptions\n      values = new Array(optionLabels.length)\n      for (let i = 0, value = minimum; value <= maximum; value += step) {\n        values[i++] = value\n      }\n    }\n    for (let i = 0, l = values.length; i < l; ++i) {\n      const option = document.createElement('option')\n      const value = values[i]\n      option.value = String(value)\n      const title = String(optionLabels?.[i] ?? value)\n      const text = document.createTextNode(title)\n      option.appendChild(text)\n      dataList.appendChild(option)\n    }\n    input.ticks = true\n    input.appendChild(dataList)\n  }\n}\n\nfunction appendBooleanField(type, form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema) {\n  const label = createLabel()\n  const checkbox = createField(type, fieldName, fieldSchema, fieldOptions, parentSchema)\n  const checked = getValue(fieldData, fieldSchema)\n  if (checked) checkbox.defaultChecked = true\n  label.appendChild(checkbox)\n  const title = getTitle(fieldSchema, fieldOptions)\n  const text = document.createTextNode(`\\n${title}`)\n  label.appendChild(text)\n  form.appendChild(label)\n  appendMessage(form, checkbox, fieldSchema, fieldOptions)\n}\n\nfunction appendInputField(type, form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema) {\n  const id = appendSeparateLabel(form, 'input', fieldSchema, fieldOptions)\n  const input = createField('input', fieldName, fieldSchema, fieldOptions, parentSchema)\n  input.id = id\n  input.type = type\n  const value = getValue(fieldData, fieldSchema)\n  if (value) input.defaultValue = value\n  applySizeConstraints(input, fieldSchema)\n  if (fieldSchema.pattern != null) input.pattern = fieldSchema.pattern\n  form.appendChild(input)\n  appendMessage(form, input, fieldSchema, fieldOptions)\n  return input\n}\n\nfunction appendCheckboxField(form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema) {\n  appendBooleanField('checkbox', form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema)\n}\n\nfunction appendColorField(form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema) {\n  appendInputField('color', form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema)\n}\n\nfunction appendDateField(form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema) {\n  const input = appendInputField('date', form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema)\n  applyRangeConstraints(input, fieldSchema, fieldOptions)\n  appendDataList(input, fieldSchema, fieldOptions)\n}\n\nfunction appendDateTimeField(form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema) {\n  const input = appendInputField('datetime-local', form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema)\n  applyRangeConstraints(input, fieldSchema, fieldOptions)\n  appendDataList(input, fieldSchema, fieldOptions)\n}\n\nfunction appendEmailField(form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema) {\n  const input = appendInputField('email', form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema)\n  applyTextConstraints(input, fieldOptions)\n  appendDataList(input, fieldSchema, fieldOptions)\n}\n\nfunction appendFileField(form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema) {\n  appendInputField('file', form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema)\n}\n\nfunction appendHiddenField(form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema) {\n  const input = document.createElement('input')\n  input.type = 'hidden'\n  input.name = fieldName\n  const value = getValue(fieldData, fieldSchema)\n  if (value) input.defaultValue = value\n  form.appendChild(input)\n}\n\nfunction appendNumberField(form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema) {\n  const input = appendInputField('number', form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema)\n  applyTextConstraints(input, fieldOptions)\n  applyRangeConstraints(input, fieldSchema, fieldOptions)\n  appendDataList(input, fieldSchema, fieldOptions)\n}\n\nfunction appendObjectField(form, _fieldName, fieldData, fieldSchema, fieldOptions, _parentSchema) {\n  const fieldSet = document.createElement('piwo-fieldset')\n  if (fieldOptions.disabled) fieldSet.disabled = true\n  const legend = document.createElement('piwo-legend')\n  const title = getTitle(fieldSchema, fieldOptions)\n  const text = document.createTextNode(title)\n  legend.appendChild(text)\n  fieldSet.appendChild(legend)\n  const { properties } = fieldSchema\n  const { fields } = fieldOptions\n  for (const childName in properties) {\n    const childData = fieldData?.[childName] ?? null\n    const childSchema = properties[childName]\n    const childOptions = fields?.[childName] ?? {}\n    const childType = (childOptions.hidden ? 'hidden' : childOptions.type) ?? (childSchema.format ?? childSchema.type) ?? 'object'\n    const appendField = fieldFactories[childType]\n    if (!appendField) throw new Error(`Unknown field type: \"${childType}\"`)\n    appendField(fieldSet, childName, childData, childSchema, childOptions, fieldSchema)\n  }\n  form.appendChild(fieldSet)\n}\n\nfunction appendPasswordField(form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema) {\n  const input = appendInputField('password', form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema)\n  applyTextConstraints(input, fieldOptions)\n}\n\nfunction appendPhoneField(form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema) {\n  const input = appendInputField('tel', form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema)\n  applyTextConstraints(input, fieldOptions)\n  appendDataList(input, fieldSchema, fieldOptions)\n}\n\nfunction appendRadioField(form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema) {\n  const fieldSet = document.createElement('piwo-fieldset')\n  fieldSet.role = 'radiogroup'\n  if (fieldOptions.disabled) fieldSet.disabled = true\n  const legend = document.createElement('piwo-legend')\n  let title = getTitle(fieldSchema, fieldOptions)\n  if (!title.endsWith(':')) title += ':'\n  const text = document.createTextNode(title)\n  legend.appendChild(text)\n  fieldSet.appendChild(legend)\n  const checkedValue = getValue(fieldData, fieldSchema)\n  const { enum: values } = fieldSchema\n  const { optionLabels } = fieldOptions\n  for (let i = 0, l = values.length; i < l; ++i) {\n    const label = createLabel()\n    const radio = document.createElement('piwo-radio')\n    radio.name = fieldName\n    const value = values[i]\n    radio.value = value\n    if (checkedValue === value) radio.defaultChecked = true\n    if (fieldSchema.readonly || fieldSchema.readOnly) radio.readonly = true\n    if (fieldOptions.disabled) radio.disabled = true\n    label.appendChild(radio)\n    const title = optionLabels?.[i] ?? value\n    const text = document.createTextNode(`\\n${title}`)\n    label.appendChild(text)\n    fieldSet.appendChild(label)\n  }\n  form.appendChild(fieldSet)\n  appendMessage(fieldSet, fieldSet, fieldSchema, fieldOptions)\n}\n\nfunction appendRangeField(form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema) {\n  const input = appendInputField('range', form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema)\n  applyRangeConstraints(input, fieldSchema, fieldOptions)\n  appendDataList(input, fieldSchema, fieldOptions)\n}\n\nfunction appendSelectField(form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema) {\n  const id = appendSeparateLabel(form, 'select', fieldSchema, fieldOptions)\n  const select = createField('select', fieldName, fieldSchema, fieldOptions, parentSchema)\n  select.id = id\n  const selectedValue = getValue(fieldData, fieldSchema)\n  const { enum: values } = fieldSchema\n  const { placeholder, optionLabels } = fieldOptions\n  if (placeholder) {\n    const option = document.createElement('option')\n    option.value = ''\n    option.disabled = true\n    if (!selectedValue) option.defaultSelected = true\n    option.hidden = true\n    const text = document.createTextNode(placeholder)\n    option.appendChild(text)\n    select.appendChild(option)\n  }\n  for (let i = 0, l = values.length; i < l; ++i) {\n    const option = document.createElement('option')\n    const value = values[i];\n    option.value = value\n    if (selectedValue === value) option.defaultSelected = true\n    const title = optionLabels?.[i] ?? value\n    const text = document.createTextNode(title)\n    option.appendChild(text)\n    select.appendChild(option)\n  }\n  form.appendChild(select)\n  appendMessage(form, select, fieldSchema, fieldOptions)\n}\n\nfunction appendSearchField(form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema) {\n  const input = appendInputField('search', form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema)\n  applyTextConstraints(input, fieldOptions)\n  appendDataList(input, fieldSchema, fieldOptions)\n}\n\nfunction appendSwitchField(form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema) {\n  appendBooleanField('switch', form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema)\n}\n\nfunction appendTextAreaField(form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema) {\n  const id = appendSeparateLabel(form, 'textarea', fieldSchema, fieldOptions)\n  const textArea = createField('textarea', fieldName, fieldSchema, fieldOptions, parentSchema)\n  textArea.id = id\n  const value = getValue(fieldData, fieldSchema)\n  if (value) textArea.textContent = value\n  applySizeConstraints(textArea, fieldSchema)\n  applyTextConstraints(textArea, fieldOptions)\n  form.appendChild(textArea)\n  appendMessage(form, textArea, fieldSchema, fieldOptions)\n}\n\nfunction appendTextField(form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema) {\n  const input = appendInputField('text', form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema)\n  applyTextConstraints(input, fieldOptions)\n  appendDataList(input, fieldSchema, fieldOptions)\n}\n\nfunction appendTimeField(form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema) {\n  const input = appendInputField('time', form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema)\n  applyRangeConstraints(input, fieldSchema, fieldOptions)\n  appendDataList(input, fieldSchema, fieldOptions)\n}\n\nfunction appendUrlField(form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema) {\n  const input = appendInputField('url', form, fieldName, fieldData, fieldSchema, fieldOptions, parentSchema)\n  applyTextConstraints(input, fieldOptions)\n  appendDataList(input, fieldSchema, fieldOptions)\n}\n\nfunction appendButton(form, id, definition) {\n  const { title, type } = definition\n  const button = document.createElement('piwo-button')\n  button.id = id\n  if (type) {\n    button.type = type\n    if (type !== 'submit') button.outline = true\n  }\n  const text = document.createTextNode(title)\n  button.appendChild(text)\n  form.appendChild(button)\n}\n\nfunction appendSpacer(form, factor) {\n  const spacer = document.createElement('piwo-spacer')\n  if (factor) spacer.factor = factor\n  form.appendChild(spacer)\n}\n\nconst fieldFactories = {\n  boolean: appendCheckboxField,\n  checkbox: appendCheckboxField,\n  color: appendColorField,\n  date: appendDateField,\n  'date-time': appendDateTimeField,\n  datetime: appendDateTimeField,\n  email: appendEmailField,\n  file: appendFileField,\n  hidden: appendHiddenField,\n  integer: appendNumberField,\n  number: appendNumberField,\n  object: appendObjectField,\n  password: appendPasswordField,\n  phone: appendPhoneField,\n  radio: appendRadioField,\n  range: appendRangeField,\n  search: appendSearchField,\n  select: appendSelectField,\n  string: appendTextField,\n  switch: appendSwitchField,\n  text: appendTextField,\n  textarea: appendTextAreaField,\n  time: appendTimeField,\n  uri: appendUrlField,\n  url: appendUrlField\n}\n\nexport function appendFormContent(form, definition) {\n  const { data, schema, options = {}, form: others = {} } = definition\n  const { properties } = schema\n  const { fields } = options\n  let lastFieldType\n  for (const fieldName in properties) {\n    const fieldData = data?.[fieldName] ?? null\n    const fieldSchema = properties[fieldName]\n    const fieldOptions = fields?.[fieldName] ?? {}\n    lastFieldType = fieldSchema.type\n    const fieldType = (fieldOptions.hidden ? 'hidden' : fieldOptions.type) ?? (fieldSchema.format ?? lastFieldType) ?? 'object'\n    const appendField = fieldFactories[fieldType]\n    if (!appendField) throw new Error(`Unknown field type: \"${fieldType}\"`)\n    appendField(form, fieldName, fieldData, fieldSchema, fieldOptions, schema)\n  }\n  const { buttons = {} } = others\n  if (Object.keys(buttons).length) {\n    const factor = lastFieldType !== 'boolean' ? undefined : 2\n    appendSpacer(form, factor)\n  }\n  for (const id in buttons) {\n    const button = buttons[id]\n    appendButton(form, id, button)\n  }\n}\n","function convertValue(value, schema) {\n  const { type } = schema\n  if (Array.isArray(value) && value.length === 1) value = value[0]\n  switch (type) {\n    case 'boolean':\n      value = value === 'on'\n      break\n    case 'integer':\n    case 'number':\n      value = +value\n  }\n  return value\n}\n\nfunction getObjectValues(schema, formData) {\n  const values = {}\n  const { properties } = schema\n  for (const fieldName in properties) {\n    const fieldSchema = properties[fieldName]\n    const { type } = fieldSchema\n    let value\n    if (!type || type === 'object') {\n      value = getObjectValues(fieldSchema, formData)\n    } else {\n      value = formData.get(fieldName)\n      value = convertValue(value, fieldSchema)\n    }\n    values[fieldName] = value\n  }\n  return values\n}\n\nexport function getFormValues(form, schema) {\n  const formData = new FormData(form)\n  const values = getObjectValues(schema, formData)\n  return values\n}\n","export function registerCustomValidation(form, fieldName, validationCallback) {\n  const field = form.elements[fieldName]\n  field.addEventListener('input', () => {\n    const message = validationCallback(field)\n    field.setCustomValidity(message || '')\n  })\n}\n"],"names":["document","adoptedStyleSheets","push","stylesheet","internals","Symbol","InternalsMixin","ParentElement","constructor","attachInternals","findClosestAncestorByTagName","element","tagName","parent","parentElement","formatPlural","count","word","onDisabledChange","value","root","getRootNode","activeElement","blur","tabIndex","markValid","messageElement","textContent","originalMessage","style","display","markInvalid","ensureMessageElement","validationMessage","form","focusError","errorFocused","focus","setTimeout","messageIds","getAttribute","messageId","trim","split","slice","errorElement","getElementById","setCustomError","anchor","message","setValidity","customError","createErrorAnchor","errorAnchor","createElement","ariaHidden","shadowRoot","appendChild","AttributesMixin","attributes","observedAttributeNames","AttributesElement","attributeName","upgradeProperty","name","Object","hasOwn","property","observedAttributes","attributeChangedCallback","_oldValue","newValue","boolean","renamedAttributes","properties","prototype","number","setter","options","attribute","type","enableInternals","aria","state","reflect","get","set","propertyName","symbol","undefined","charAt","toUpperCase","getter","call","Boolean","states","add","delete","String","toggleAttribute","Number","isNaN","setAttribute","configurable","enumerable","defineProperties","ShadowMixin","delegatesFocus","attachShadow","mode","commonStylesheet","InteractiveMixin","connectedCallback","hasAttribute","disabled","PiWoButton","HTMLElement","outline","formAssociated","role","slot","thisStylesheet","addEventListener","event","metaKey","altKey","ctrlKey","shiftKey","defaultPrevented","reset","keyCode","click","setFormValue","submitter","button","insertAdjacentElement","requestSubmit","remove","customElements","define","FieldMixin","labels","length","findLabels","labelIds","reduce","id","label","explicitOriginalTarget","ariaInvalid","describeError","preventDefault","willValidate","validity","checkValidity","reportValidity","valid","updateValidity","handleClick","BooleanMixin","BooleanElement","readonly","required","describeerror","focuserror","defaultChecked","ariaChecked","localName","formResetCallback","checked","formStateRestoreCallback","_mode","beforeInput","CustomEvent","bubbles","cancelable","composed","dispatchEvent","flag","detail","setCustomValidity","keepValid","valueMissing","PiWoCheckbox","indeterminate","PiWoContainer","counter","PiWoFieldSet","elements","Array","from","querySelectorAll","filter","el","innerInput","Promise","resolve","oldTarget","newTarget","removeAttribute","children","assignedElements","flatten","find","PiWoHeading","level","PiWoHorizontalRule","PiWoInput","multiple","ticks","autocomplete","pattern","placeholder","max","min","step","maxlength","maxLength","minlength","minLength","defaultValue","files","formDisabledCallback","newEvent","dataOrigin","dataList","cloneNode","setProperty","replaceChild","updateLabel","PiWoLabel","for","isConnected","labelledTarget","target","querySelector","targetId","htmlFor","scope","input","PiWoLegend","fieldSet","PiWoLink","href","referrerpolicy","rel","features","referrerPolicy","includes","window","open","join","location","PiWoParagraph","PiWoRadio","uncheckOtherRadio","getRadios","getCheckedRadios","radio","source","otherRadio","innerSelect","PiWoSelect","selectedIndex","selectedOptions","size","map","option","replaceChildren","PiWoSmall","updateSpace","PiWoSpacer","factor","typography","removeProperty","PiWoSwitch","PiWoTextArea","ariaMultiLine","contentEditable","criteria","criterion","idCounter","getTitle","fieldSchema","fieldOptions","title","getValue","fieldData","default","createLabel","appendMessage","field","msg","helper","text","createTextNode","description","appendSeparateLabel","endsWith","createField","fieldName","parentSchema","readOnly","applyRangeConstraints","maximum","minimum","applySizeConstraints","applyTextConstraints","appendDataList","enum","values","optionLabels","i","l","appendBooleanField","checkbox","appendInputField","appendCheckboxField","appendDateTimeField","appendNumberField","appendTextField","appendUrlField","fieldFactories","color","date","datetime","email","file","hidden","integer","object","_fieldName","_parentSchema","legend","fields","childName","childData","childSchema","childOptions","childType","format","appendField","Error","password","phone","checkedValue","range","search","select","selectedValue","defaultSelected","string","switch","textarea","textArea","time","uri","url","appendFormContent","definition","lastFieldType","data","schema","others","fieldType","buttons","keys","appendSpacer","spacer","appendButton","getFormValues","getObjectValues","formData","convertValue","isArray","FormData","registerCustomValidation","validationCallback"],"mappings":"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"}