{"version":3,"file":"index.min.mjs","sources":["/piwo/shared/helpers.js","/piwo/shared/globals.js","/piwo/elements/button.js","/piwo/elements/checkbox.js","/piwo/elements/container.js","/piwo/elements/h.js","/piwo/elements/hr.js","/piwo/elements/input.js","/piwo/elements/label.js","/piwo/elements/link.js","/piwo/elements/p.js","/piwo/elements/small.js","/piwo/elements/spacer.js","/piwo/elements/textarea.js"],"sourcesContent":["export function upgradeProperty(element, name) {\n  if (Object.hasOwn(element, name)) {\n    const value = element[name]\n    delete element[name]\n    element[name] = value\n  }\n}\n\nexport function findClosestAncestorByTagName(element, tagName) {\n\tfor (let parent;;) {\n    parent = element.parentElement\n    if (parent === null) {\n      return null\n    }\n\t\tif (parent.tagName === tagName) {\n\t\t\treturn parent\n\t\t}\n\t}\n}\n\nexport function findLabels(element) {\n  const labelIds = element.getAttribute('aria-labelledby')\n  if (labelIds) {\n    const root = element.getRootNode()\n    return labelIds\n      .trim()\n      .split(/ +/)\n      .reduce((labels, id) => {\n        const label = root.getElementById(id.trim())\n        if (label) {\n          labels.push(label)\n        }\n        return labels\n      }, [])\n  }\n}\n\nexport function formatPlural(count, word) {\n  const suffix = count === 1 ? '' : 's'\n  return `${count} ${word}${suffix}`\n}\n","import stylesheet from './globals.css'\n\ndocument.adoptedStyleSheets.push(stylesheet)\n","import { findClosestAncestorByTagName, upgradeProperty } from '../shared/helpers.js'\nimport commonStylesheet from '../shared/common.css'\nimport thisStylesheet from './button.css'\n\nconst booleanAttributes = [\n  'disabled'\n]\nconst stringAttributes = [\n  'name', 'type'\n]\nconst allAttributes = booleanAttributes.concat(stringAttributes)\n\nclass PiWoButton extends HTMLElement {\n  #internals\n\n  static get formAssociated() {\n    return true\n  }\n\n  constructor() {\n    super()\n    this.#internals = this.attachInternals()\n    this.#internals.role = 'button'\n\n    this.attachShadow({ mode: 'open' })\n    const slot = document.createElement('slot')\n    this.shadowRoot.appendChild(slot)\n    this.shadowRoot.adoptedStyleSheets = [commonStylesheet, thisStylesheet]\n\n    this.addEventListener('click', event => this.#handleClick(event))\n    this.addEventListener('keyup', event => this.#handleKeyUp(event))\n\n    for (const name in allAttributes) {\n      upgradeProperty(this, name)\n    }\n  }\n\n  // ----- properties\n\n  get form() {\n    return this.#internals.form\n  }\n\n  #name = ''\n\n  get name() {\n    return this.#name\n  }\n\n  set name(value) {\n    if (value == null) value = ''\n    if (value === this.#name) return\n    this.#name = value\n    this.setAttribute('name', value)\n  }\n\n  #type = ''\n\n  get type() {\n    return this.#type\n  }\n\n  set type(value) {\n    if (value == null) value = ''\n    if (value === this.#type) return\n    this.#type = value\n    this.setAttribute('type', value)\n  }\n\n  get disabled() {\n    return this.#internals.states.has('disabled')\n  }\n\n  set disabled(flag) {\n    flag = !!flag\n    if (flag === this.disabled) return\n    if (flag) {\n      this.#internals.states.add('disabled')\n      const root = this.getRootNode()\n      if (root.activeElement === this) {\n        this.blur()\n      }\n      if (this.tabIndex >= 0) {\n        this.tabIndex = -1\n      }\n    } else {\n      this.#internals.states.delete('disabled')\n      if (this.tabIndex < 0) {\n        this.tabIndex = 0\n      }\n    }\n    this.#internals.ariaDisabled = String(flag)\n  }\n\n  // ----- life-cycle callbacks\n\n  static get observedAttributes() {\n    return allAttributes\n  }\n\n  attributeChangedCallback(name, _oldValue, newValue) {\n    if (booleanAttributes.includes(name)) {\n      this[name] = newValue != null\n    } else {\n      this[name] = newValue\n    }\n  }\n\n  connectedCallback() {\n    // not yet in internals - https://github.com/WICG/webcomponents/issues/762\n    if (!this.hasAttribute('tabindex')) {\n      this.tabIndex = this.disabled ? -1 : 0\n    }\n  }\n\n  // ----- event handlers\n\n  #handleClick(event) {\n    if (!this.disabled &&\n        !(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey)) {\n      // give a chance to handlers registered outside of this element\n      // to prevent the default behaviour\n      setTimeout(() => {\n        if (event.defaultPrevented) return\n        // submit and reset buttons cannot be marked yet - https://github.com/WICG/webcomponents/issues/814\n        const form = this.#getForm()\n        if (form) {\n          switch (this.#type) {\n            case 'reset':\n              form.reset()\n              break\n            default: // '' and 'submit'\n              this.#submitForm(form)\n          }\n        }\n      })\n    }\n  }\n\n  #handleKeyUp(event) {\n    if (!this.disabled &&\n        (event.keyCode === 13 || event.keyCode === 32) &&\n        !(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey)) {\n      this.click()\n    }\n  }\n\n  // ----- submitting the connected form\n\n  #getForm() {\n    return this.form ?? findClosestAncestorByTagName(this, 'FORM')\n  }\n\n  #submitForm(form) {\n    const { name } = this\n    if (name) {\n      this.#internals.setFormValue(this.textContent.trim())\n    }\n    const submitter = document.createElement('input')\n    submitter.button = this\n    submitter.type = 'submit'\n    this.insertAdjacentElement('afterend', submitter)\n    form.submitter = submitter\n    form.requestSubmit(submitter)\n    // let submit handlers to create FormData with the submitter's name and value\n    setTimeout(() => {\n      if (name) {\n        this.#internals.setFormValue(null)\n      }\n      form.submitter = undefined\n      submitter.remove()\n    })\n  }\n}\n\ncustomElements.define('piwo-button', PiWoButton)\n","import { findLabels, upgradeProperty } from '../shared/helpers.js'\nimport commonStylesheet from '../shared/common.css'\nimport thisStylesheet from './checkbox.css'\n\nconst booleanAttributes = [\n  'disabled', 'readonly', 'required', 'describeerror', 'focuserror'\n]\nconst stringAttributes = [\n  'name'\n]\nconst allAttributes = booleanAttributes.concat(stringAttributes)\nconst propertyNames = {\n  describeerror: 'describeError',\n  focuserror: 'focusError'\n}\n\nclass PiWoCheckbox extends HTMLElement {\n  #internals\n  #errorAnchor\n\n  static get formAssociated() {\n    return true\n  }\n\n  constructor() {\n    super()\n    this.#internals = this.attachInternals()\n    this.#internals.role = 'checkbox'\n    this.#internals.ariaChecked = 'false'\n\n    this.attachShadow({ mode: 'open' })\n    this.shadowRoot.adoptedStyleSheets = [commonStylesheet, thisStylesheet]\n    this.#errorAnchor = document.createElement('input')\n    this.#errorAnchor.tabIndex = -1\n    this.#errorAnchor.ariaHidden = 'true'\n    this.shadowRoot.appendChild(this.#errorAnchor)\n\n    // this.#errorAnchor.addEventListener('focus', () => this.focus())\n    this.addEventListener('click', event => this.#handleClick(event))\n    this.addEventListener('keyup', event => this.#handleKeyUp(event))\n    this.addEventListener('invalid', event => this.#handleInvalid(event))\n\n    for (const attributeName in allAttributes) {\n      const propertyName = propertyNames[attributeName] ?? attributeName\n      upgradeProperty(this, propertyName)\n    }\n  }\n\n  // ----- properties\n\n  get form() {\n    return this.#internals.form\n  }\n\n  get labels() {\n    const labels = this.#internals.labels\n    if (labels.length) return labels\n    return findLabels(this)\n  }\n\n  #name = ''\n\n  get name() {\n    return this.#name\n  }\n\n  set name(value) {\n    if (value == null) value = ''\n    if (value === this.#name) return\n    this.#name = value\n    this.setAttribute('name', value)\n  }\n\n  get type() {\n    return this.localName\n  }\n\n  // get value() {\n  //   return this.checked ? 'on' : this.willValidate ? '' : null\n  // }\n\n  // set value(flag) {\n  //   this.checked = flag === 'on'\n  // }\n\n  get checked() {\n    return this.#getFlag('checked')\n  }\n\n  set checked(flag) {\n    if (this.#setFlag('checked', 'Checked', false, flag)) {\n      this.#internals.states.delete('indeterminate')\n      this.#updateValidity()\n    }\n  }\n\n  get indeterminate() {\n    return this.#getFlag('indeterminate')\n  }\n\n  set indeterminate(flag) {\n    if (this.#setFlag('indeterminate', undefined, false, flag)) {\n      if (flag) {\n        this.#internals.ariaChecked = 'mixed'\n      } else {\n        this.#internals.ariaChecked = String(this.checked)\n      }\n    }\n  }\n\n  #describeError = false\n\n  get describeError() {\n    return this.#describeError\n  }\n\n  set describeError(value) {\n    value = Boolean(value)\n    if (value === this.#describeError) return\n    this.#describeError = value\n    this.toggleAttribute('describeerror', value)\n  }\n\n  #focusError = false\n\n  get focusError() {\n    return this.#focusError\n  }\n\n  set focusError(value) {\n    value = Boolean(value)\n    if (value === this.#focusError) return\n    this.#focusError = value\n    this.toggleAttribute('focuserror', value)\n  }\n\n  get disabled() {\n    return this.#getFlag('disabled')\n  }\n\n  set disabled(flag) {\n    if (this.#setFlag('disabled', 'Disabled', true, flag)) {\n      if (flag) {\n        const root = this.getRootNode()\n        if (root.activeElement === this) {\n          this.blur()\n        }\n        if (this.tabIndex >= 0) {\n          this.tabIndex = -1\n        }\n      } else {\n        if (this.tabIndex < 0) {\n          this.tabIndex = 0\n        }\n      }\n    }\n  }\n\n  get readonly() {\n    return this.#getFlag('readonly')\n  }\n\n  set readonly(flag) {\n    this.#setFlag('readonly', 'ReadOnly', true, flag)\n  }\n\n  get required() {\n    return this.#getFlag('required')\n  }\n\n  set required(flag) {\n    this.#setFlag('required', 'Required', true, flag)\n  }\n\n  #getFlag(name) {\n    return this.#internals.states.has(name)\n  }\n\n  #setFlag(name, ariaName, attribute, flag) {\n    flag = Boolean(flag)\n    if (flag === this[name]) return\n    if (flag) {\n      this.#internals.states.add(name)\n    } else {\n      this.#internals.states.delete(name)\n    }\n    if (attribute) {\n      this.toggleAttribute(name, flag)\n    }\n    if (ariaName) {\n      this.#internals[`aria${ariaName}`] = String(flag)\n    }\n    return true\n  }\n\n  // ----- life-cycle callbacks\n\n  static get observedAttributes() {\n    return allAttributes\n  }\n\n  attributeChangedCallback(name, _oldValue, newValue) {\n    const propertyName = propertyNames[name] ?? name\n    if (booleanAttributes.includes(name)) {\n      this[propertyName] = newValue != null\n    } else {\n      this[propertyName] = newValue\n    }\n  }\n\n  connectedCallback() {\n    // not yet in internals - https://github.com/WICG/webcomponents/issues/762\n    if (!this.hasAttribute('tabindex')) {\n      this.tabIndex = this.disabled ? -1 : 0\n    }\n    const keepValid = this.getAttribute('aria-invalid') === 'false'\n    this.checked = this.hasAttribute('checked')\n    if (this.hasAttribute('indeterminate')) {\n      this.indeterminate = true\n    }\n    this.#updateValidity(keepValid)\n    if (this.validity.valid) {\n      this.#ensureMessageElement()\n    }\n  }\n\n  formResetCallback() {\n    this.checked = this.hasAttribute('checked')\n  }\n\n  formStateRestoreCallback(state, _mode) { // restore or autocomplete\n    this.checked = state === 'checked'\n  }\n\n  // formAssociatedCallback(form) {\n  // }\n\n  // formDisabledCallback(disabled) {\n  //   this.disabled = disabled\n  // }\n\n  // ----- event handlers\n\n  #handleClick(event) {\n    if (!(this.disabled || this.readonly) &&\n        !(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey)) {\n      // give a chance to handlers registered outside of this element\n      // to prevent the default behaviour\n      setTimeout(() => {\n        if (event.defaultPrevented) return\n\n        const beforeInput = new CustomEvent('beforeinput', {\n          bubbles: true,\n          cancelable: true,\n          composed: true\n        })\n        this.dispatchEvent(beforeInput)\n        if (beforeInput.defaultPrevented) return\n\n        const flag = !this.checked\n        this.checked = flag\n\n        this.dispatchEvent(new CustomEvent('input', {\n          bubbles: true,\n          cancelable: false,\n          composed: true\n        }))\n        this.dispatchEvent(new CustomEvent('change', {\n          detail: {\n            checked: flag,\n          },\n          bubbles: true,\n          cancelable: false,\n          composed: true\n        }))\n      })\n    }\n  }\n\n  #handleKeyUp(event) {\n    if (!this.disabled &&\n        event.keyCode === 32 &&\n        !(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey)) {\n      // give a chance to handlers registered outside of this element\n      // to prevent the default behaviour\n      setTimeout(() => {\n        if (event.defaultPrevented) return\n        this.click()\n      })\n    }\n  }\n\n  #handleInvalid(event) {\n    // detect if `reportValidity` was called from a user interaction\n    if (event.explicitOriginalTarget && event.explicitOriginalTarget !== this || this.form.submitter) {\n      this.ariaInvalid = 'true'\n      if (this.#describeError) {\n        event.preventDefault()\n        this.#markInvalid()\n      }\n    }\n  }\n\n  #markInvalid() {\n    if (this.#ensureMessageElement()) {\n      this.#messageElement.style.display = ''\n      this.#messageElement.textContent = this.validationMessage\n      const { form } = this\n      if (this.#focusError && !form?.errorFocused) {\n        if (form) {\n          form.errorFocused = true\n        }\n        this.focus()\n        if (form) {\n          setTimeout(() => {\n            form.errorFocused = false\n          });\n        }\n      }\n    }\n  }\n\n  #messageElement\n  #originalMessage = ''\n\n  #ensureMessageElement() {\n    const messageIds = this.getAttribute('aria-describedby')\n    if (messageIds) {\n      const messageId = messageIds.trim().split(/ +/).slice(-1)[0]\n      if (messageId) {\n        const messageElement = document.getElementById(messageId.trim())\n        if (messageElement) {\n          if (messageElement !== this.#messageElement) {\n            this.#messageElement = messageElement\n            this.#originalMessage = messageElement.textContent\n            if (!this.#originalMessage) {\n              this.#messageElement.style.display = 'none'\n            }\n          }\n          return true\n        }\n      }\n    }\n  }\n\n  // ----- form validation\n\n  get willValidate() {\n    return this.#internals.willValidate\n  }\n\n  get validity() {\n    return this.#internals.validity\n  }\n\n  get validationMessage() {\n    return this.#internals.validationMessage\n  }\n\n  // #invalidEvent\n\n  checkValidity() {\n    return this.#internals.checkValidity()\n    // if (this.willValidate) {\n    //   if (this.required && !this.checked) {\n    //     // this.ariaInvalid = 'true'\n    //     this.#internals.setValidity({ valueMissing: true },\n    //       'Please check this box if you want to proceed.', this.#errorAnchor)\n    //     // this.setAttribute('aria-errormessage', this.#internals.validationMessage)\n    //     this.#invalidEvent = new CustomEvent('invalid', {\n    //       bubbles: true,\n    //       cancelable: true,\n    //       composed: true\n    //     })\n    //     this.dispatchEvent(this.#invalidEvent)\n    //     return false\n    //   }\n    // }\n    // // this.ariaInvalid = 'false'\n    // this.#internals.setValidity({})\n    // // this.toggleAttribute('aria-errormessage', true)\n    // return true\n  }\n\n  reportValidity() {\n    this.ariaInvalid = String(!this.validity.valid)\n    return this.#internals.reportValidity()\n    // const result = this.checkValidity()\n    // if (result) {\n    //   this.#errorAnchor.textContent = ''\n    // } else {\n    //   this.#errorAnchor.textContent = this.#invalidEvent.defaultPrevented\n    //     ? '' : this.#internals.validationMessage\n    // }\n    // return result\n  }\n\n  setCustomValidity(message) {\n    // this.setAttribute('aria-errormessage', message)\n    if (message) {\n      // this.ariaInvalid = 'true'\n      this.#internals.setValidity({ customError: true }, message, this.#errorAnchor)\n    } else {\n      // this.ariaInvalid = 'false'\n      this.#internals.setValidity({})\n    }\n  }\n\n  #updateValidity(keepValid) {\n    if (this.checked) {\n      this.#internals.setFormValue('on', 'checked')\n    } else {\n      this.#internals.setFormValue(null)\n    }\n    if (this.required && !this.checked) {\n      this.#internals.setValidity({ valueMissing: true },\n        'Please check this box if you want to proceed.', this.#errorAnchor)\n      if (this.getAttribute('aria-invalid') === 'true') {\n        this.#markInvalid()\n      }\n    } else {\n      this.#internals.setValidity({})\n      this.ariaInvalid = keepValid ? 'false': null\n      this.#markValid()\n    }\n  }\n\n  #markValid() {\n    if (this.#messageElement) {\n      this.#messageElement.textContent = this.#originalMessage\n      if (!this.#originalMessage) {\n        this.#messageElement.style.display = 'none'\n      }\n      this.#messageElement = null\n      this.#originalMessage = ''\n    }\n  }\n}\n\ncustomElements.define('piwo-checkbox', PiWoCheckbox)\n","import commonStylesheet from '../shared/common.css'\nimport thisStylesheet from './container.css'\n\nclass PiWoContainer extends HTMLElement {\n  #slot\n\n  constructor() {\n    super()\n    this.attachShadow({ mode: 'open' })\n    this.#slot = document.createElement('slot')\n    this.shadowRoot.appendChild(this.#slot)\n    this.shadowRoot.adoptedStyleSheets = [commonStylesheet, thisStylesheet]\n  }\n}\n\ncustomElements.define('piwo-container', PiWoContainer)\n","import { upgradeProperty } from '../shared/helpers.js'\nimport commonStylesheet from '../shared/common.css'\nimport thisStylesheet from './h.css'\n\nclass PiWoHeading extends HTMLElement {\n  #internals\n\n  constructor() {\n    super()\n    this.#internals = this.attachInternals()\n    this.#internals.role = 'heading'\n\n    this.attachShadow({ mode: 'open' })\n    const slot = document.createElement('slot')\n    this.shadowRoot.appendChild(slot)\n    this.shadowRoot.adoptedStyleSheets = [commonStylesheet, thisStylesheet]\n\n    upgradeProperty(this, 'level')\n  }\n\n  // ----- properties\n\n  #level = ''\n\n  get level() {\n    return this.#level\n  }\n\n  set level(value) {\n    if (value == null) value = ''\n    if (value === this.#level) return\n    this.#internals.ariaLevel = value\n    this.toggleAttribute('level', value)\n  }\n\n  // ----- life-cycle callbacks\n\n  static get observedAttributes() {\n    return ['level']\n  }\n\n  attributeChangedCallback(name, _oldValue, newValue) {\n    this[name] = newValue\n  }\n}\n\ncustomElements.define('piwo-h', PiWoHeading)\n","import commonStylesheet from '../shared/common.css'\nimport thisStylesheet from './hr.css'\n\nclass PiWoHorizontalRule extends HTMLElement {\n  #internals\n\n  constructor() {\n    super()\n    this.#internals = this.attachInternals()\n    this.#internals.role = 'separator'\n\n    this.attachShadow({ mode: 'open' })\n    this.shadowRoot.adoptedStyleSheets = [commonStylesheet, thisStylesheet]\n  }\n}\n\ncustomElements.define('piwo-hr', PiWoHorizontalRule)\n","import { findLabels, upgradeProperty } from '../shared/helpers.js'\nimport commonStylesheet from '../shared/common.css'\nimport thisStylesheet from './input.css'\n\nconst booleanAttributes = [\n  'disabled', 'readonly', 'required', 'multiple', 'describeerror', 'focuserror'\n]\nconst stringAttributes = [\n  'name', 'type', 'placeholder', 'autocomplete', 'step', 'pattern',\n  'max', 'min', 'maxlength', 'minlength'\n]\nconst allAttributes = booleanAttributes.concat(stringAttributes)\nconst propertyNames = {\n  describeerror: 'describeError',\n  focuserror: 'focusError',\n  maxlength: 'maxLength',\n  minlength: 'minLength'\n}\n\nclass PiWoInput extends HTMLElement {\n  #internals\n  #innerInput\n\n  static get formAssociated() {\n    return true\n  }\n\n  constructor() {\n    super()\n    this.#internals = this.attachInternals()\n    this.#internals.role = 'textbox'\n\n    this.attachShadow({ mode: 'open', delegatesFocus: true })\n    this.shadowRoot.adoptedStyleSheets = [commonStylesheet, thisStylesheet]\n    this.#innerInput = document.createElement('input')\n    this.#innerInput.ariaHidden = 'true'\n    this.shadowRoot.appendChild(this.#innerInput)\n\n    this.#innerInput.addEventListener('beforeinput', event => this.#handleBeforeInput(event))\n    this.#innerInput.addEventListener('input', event => this.#handleInput(event))\n    this.#innerInput.addEventListener('change', event => this.#handleChange(event))\n    this.addEventListener('invalid', event => this.#handleInvalid(event))\n\n    for (const attributeName in allAttributes) {\n      const propertyName = propertyNames[attributeName] ?? attributeName\n      upgradeProperty(this, propertyName)\n    }\n  }\n\n  // ----- properties\n\n  get form() {\n    return this.#internals.form\n  }\n\n  get labels() {\n    const labels = this.#internals.labels\n    if (labels.length) return labels\n    return findLabels(this)\n  }\n\n  #name = ''\n\n  get name() {\n    return this.#name\n  }\n\n  set name(value) {\n    if (value == null) value = ''\n    if (value === this.#name) return\n    this.#name = value\n    this.setAttribute('name', value)\n  }\n\n  #type = ''\n\n  get type() {\n    return this.#type\n  }\n\n  set type(value) {\n    if (value == null) value = ''\n    if (value === this.#type) return\n    this.#type = this.#innerInput.type = value\n    this.setAttribute('type', value)\n  }\n\n  #placeholder = ''\n\n  get placeholder() {\n    return this.#placeholder\n  }\n\n  set placeholder(value) {\n    if (value == null) value = ''\n    if (value === this.#placeholder) return\n    this.#placeholder = this.#innerInput.placeholder = value\n    this.setAttribute('placeholder', value)\n  }\n\n  #value = ''\n\n  get value() {\n    return this.#value\n  }\n\n  set value(value) {\n    if (value == null) value = ''\n    if (value === this.#value) return\n    this.#value = this.#innerInput.value = value\n    this.#updateValidity()\n  }\n\n  #autocomplete = ''\n\n  get autocomplete() {\n    return this.#autocomplete\n  }\n\n  set autocomplete(value) {\n    if (value == null) value = ''\n    if (value === this.#autocomplete) return\n    this.#autocomplete = this.#innerInput.autocomplete = value\n    this.setAttribute('autocomplete', value)\n  }\n\n  #max = ''\n\n  get max() {\n    return this.#max\n  }\n\n  set max(value) {\n    if (value == null) value = ''\n    if (value === this.#max) return\n    this.#max = this.#innerInput.max = value\n    this.setAttribute('max', value)\n  }\n\n  #min = ''\n\n  get min() {\n    return this.#min\n  }\n\n  set min(value) {\n    if (value == null) value = ''\n    if (value === this.#min) return\n    this.#min = this.#innerInput.min = value\n    this.setAttribute('min', value)\n  }\n\n  #maxLength = -1\n\n  get maxLength() {\n    return this.#maxLength\n  }\n\n  set maxLength(value) {\n    if (value == null) {\n      value = -1\n    } else {\n      value = +value\n      if (Number.isNaN(value)) {\n        value = -1\n      }\n    }\n    if (value === this.#maxLength) return\n    this.#maxLength = this.#innerInput.maxLength = value\n    this.setAttribute('maxlength', value)\n  }\n\n  #minLength = -1\n\n  get minLength() {\n    return this.#minLength\n  }\n\n  set minLength(value) {\n    if (value == null) {\n      value = -1\n    } else {\n      value = +value\n      if (Number.isNaN(value)) {\n        value = -1\n      }\n    }\n    if (value === this.#minLength) return\n    this.#minLength = this.#innerInput.minLength = value\n    this.setAttribute('minlength', value)\n  }\n\n  #multiple = false\n\n  get multiple() {\n    return this.#multiple\n  }\n\n  set multiple(value) {\n    value = Boolean(value)\n    if (value === this.#multiple) return\n    this.#multiple = this.#innerInput.multiple = value\n    this.toggleAttribute('multiple', value)\n  }\n\n  #describeError = false\n\n  get describeError() {\n    return this.#describeError\n  }\n\n  set describeError(value) {\n    value = Boolean(value)\n    if (value === this.#describeError) return\n    this.#describeError = value\n    this.toggleAttribute('describeerror', value)\n  }\n\n  #focusError = false\n\n  get focusError() {\n    return this.#focusError\n  }\n\n  set focusError(value) {\n    value = Boolean(value)\n    if (value === this.#focusError) return\n    this.#focusError = value\n    this.toggleAttribute('focuserror', value)\n  }\n\n  #pattern = ''\n\n  get pattern() {\n    return this.#pattern\n  }\n\n  set pattern(value) {\n    if (value == null) value = ''\n    if (value === this.#pattern) return\n    this.#pattern = this.#innerInput.pattern = value\n    this.setAttribute('pattern', value)\n  }\n\n  #step = ''\n\n  get step() {\n    return this.#step\n  }\n\n  set step(value) {\n    if (value == null) value = ''\n    if (value === this.#step) return\n    this.#step = this.#innerInput.step = value\n    this.setAttribute('step', value)\n  }\n\n  get disabled() {\n    return this.#getFlag('disabled')\n  }\n\n  set disabled(flag) {\n    if (this.#setFlag('disabled', 'Disabled', true, flag)) {\n      if (flag) {\n        const root = this.getRootNode()\n        if (root.activeElement === this) {\n          this.blur()\n        }\n        if (this.tabIndex >= 0) {\n          this.tabIndex = -1\n        }\n      } else {\n        if (this.tabIndex < 0) {\n          this.tabIndex = 0\n        }\n      }\n    }\n  }\n\n  get readonly() {\n    return this.#getFlag('readonly')\n  }\n\n  set readonly(flag) {\n    this.#setFlag('readonly', 'ReadOnly', true, flag)\n  }\n\n  get required() {\n    return this.#getFlag('required')\n  }\n\n  set required(flag) {\n    this.#setFlag('required', 'Required', true, flag)\n  }\n\n  #getFlag(name) {\n    return this.#internals.states.has(name)\n  }\n\n  #setFlag(name, ariaName, attribute, flag) {\n    flag = Boolean(flag)\n    if (flag === this[name]) return\n    if (flag) {\n      this.#internals.states.add(name)\n    } else {\n      this.#internals.states.delete(name)\n    }\n    this.#innerInput[name] = flag\n    if (attribute) {\n      this.toggleAttribute(name, flag)\n      this.#innerInput.toggleAttribute(name, flag)\n    }\n    if (ariaName) {\n      this.#internals[`aria${ariaName}`] = String(flag)\n    }\n    return true\n  }\n\n  // ----- life-cycle callbacks\n\n  static get observedAttributes() {\n    return allAttributes\n  }\n\n  attributeChangedCallback(name, _oldValue, newValue) {\n    const propertyName = propertyNames[name] ?? name\n    if (booleanAttributes.includes(name)) {\n      this[propertyName] = newValue != null\n    } else {\n      this[propertyName] = newValue\n    }\n  }\n\n  connectedCallback() {\n    // not yet in internals - https://github.com/WICG/webcomponents/issues/762\n    if (!this.hasAttribute('tabindex')) {\n      this.tabIndex = this.disabled ? -1 : 0\n    }\n    const keepValid = this.getAttribute('aria-invalid') === 'false'\n    this.value = this.getAttribute('value')\n    this.#updateValidity(keepValid)\n    if (this.validity.valid) {\n      this.#ensureMessageElement()\n    }\n  }\n\n  formResetCallback() {\n    this.value = this.getAttribute('value')\n  }\n\n  formStateRestoreCallback(state, _mode) { // restore or autocomplete\n    this.value = state\n  }\n\n  // formAssociatedCallback(form) {\n  // }\n\n  formDisabledCallback(disabled) {\n    this.#innerInput.disabled = disabled\n  }\n\n  // ----- event handlers\n\n  #handleBeforeInput(event) {\n    const newEvent = this.#forwardEvent(event)\n    if (newEvent.defaultPrevented) {\n      event.preventDefault()\n    }\n  }\n\n  #handleInput(event) {\n    this.value = this.#innerInput.value\n    this.#forwardEvent(event)\n  }\n\n  #handleChange(event) {\n    this.value = this.#innerInput.value\n    this.#forwardEvent(event)\n  }\n\n  #handleInvalid(event) {\n    // detect if `reportValidity` was called from a user interaction\n    if (event.explicitOriginalTarget && event.explicitOriginalTarget !== this || this.form.submitter) {\n      this.ariaInvalid = 'true'\n      if (this.describeError) {\n        event.preventDefault()\n        this.#markInvalid()\n      }\n    }\n  }\n\n  #markInvalid() {\n    if (this.#ensureMessageElement()) {\n      this.#messageElement.style.display = ''\n      this.#messageElement.textContent = this.validationMessage\n      const { form } = this\n      if (this.focusError && !form?.errorFocused) {\n        if (form) {\n          form.errorFocused = true\n        }\n        this.focus()\n        if (form) {\n          setTimeout(() => {\n            form.errorFocused = false\n          });\n        }\n      }\n    }\n  }\n\n  #messageElement\n  #originalMessage = ''\n\n  #ensureMessageElement() {\n    const messageIds = this.getAttribute('aria-describedby')\n    if (messageIds) {\n      const messageId = messageIds.trim().split(/ +/).slice(-1)[0]\n      if (messageId) {\n        const messageElement = document.getElementById(messageId.trim())\n        if (messageElement) {\n          if (messageElement !== this.#messageElement) {\n            this.#messageElement = messageElement\n            this.#originalMessage = messageElement.textContent\n            if (!this.#originalMessage) {\n              this.#messageElement.style.display = 'none'\n            }\n          }\n          return true\n        }\n      }\n    }\n  }\n\n  #forwardEvent(event) {\n    const newEvent = new event.constructor(event.type, event)\n    this.dispatchEvent(newEvent)\n    return newEvent\n  }\n\n  // ----- form validation\n\n  get willValidate() {\n    return this.#internals.willValidate\n  }\n\n  get validity() {\n    return this.#internals.validity\n  }\n\n  get validationMessage() {\n    return this.#internals.validationMessage\n  }\n\n  checkValidity() {\n    return this.#internals.checkValidity() && this.#innerInput.checkValidity()\n  }\n\n  reportValidity() {\n    this.ariaInvalid = String(!this.validity.valid)\n    return this.#internals.reportValidity() && this.#innerInput.checkValidity()\n  }\n\n  setCustomValidity(message) {\n    if (message) {\n      this.#internals.setValidity({ customError: true }, message, this.#innerInput)\n    } else {\n      this.#internals.setValidity({})\n    }\n  }\n\n  #updateValidity(keepValid) {\n    this.#internals.setFormValue(this.#value, this.#value);\n    const { validity } = this.#innerInput\n    if (validity.valid) {\n      this.#internals.setValidity({})\n      this.ariaInvalid = keepValid ? 'false': null\n      this.#markValid()\n    } else {\n      this.#internals.setValidity(validity,\n        this.#innerInput.validationMessage, this.#innerInput)\n      if (this.getAttribute('aria-invalid') === 'true') {\n        this.#markInvalid()\n      }\n    }\n  }\n\n  #markValid() {\n    if (this.#messageElement) {\n      this.#messageElement.textContent = this.#originalMessage\n      if (!this.#originalMessage) {\n        this.#messageElement.style.display = 'none'\n      }\n      this.#messageElement = null\n      this.#originalMessage = ''\n    }\n  }\n}\n\ncustomElements.define('piwo-input', PiWoInput)\n","import { upgradeProperty } from '../shared/helpers.js'\nimport commonStylesheet from '../shared/common.css'\nimport thisStylesheet from './label.css'\n\nlet counter = 0\n\nclass PiWoLabel extends HTMLElement {\n  #slot\n\n  constructor() {\n    super()\n    this.attachShadow({ mode: 'open' })\n    this.#slot = document.createElement('slot')\n    this.shadowRoot.appendChild(this.#slot)\n    this.shadowRoot.adoptedStyleSheets = [commonStylesheet, thisStylesheet]\n\n    this.#slot.addEventListener('slotchange', () => this.#updateLabel())\n    this.addEventListener('click', event => this.#handleClick(event))\n\n    upgradeProperty(this, 'htmlFor')\n  }\n\n  // ----- properties\n\n  #for = ''\n\n  get htmlFor() {\n    return this.#for\n  }\n\n  set htmlFor(value) {\n    if (value == null) value = ''\n    if (value === this.#for) return\n    this.#for = value\n    this.setAttribute('for', value)\n    this.#updateLabel()\n  }\n\n  // ----- life-cycle callbacks\n\n  static get observedAttributes() {\n    return ['for']\n  }\n\n  attributeChangedCallback(_name, _oldValue, newValue) {\n    this.htmlFor = newValue\n  }\n\n  // ----- event handlers\n\n  #handleClick(event) {\n    if (event.metaKey || event.altKey || event.ctrlKey || event.shiftKey) return\n    const labelledTarget = this.#getLabelledTarget()\n    if (!labelledTarget || labelledTarget.disabled || event.target === labelledTarget) return\n    labelledTarget.focus()\n    labelledTarget.click()\n  }\n\n  // ----- connecting the label to a field\n\n  async #updateLabel() {\n    // let the caller create the full markup after setting the `for` attribute\n    await Promise.resolve()\n    if (!this.id) {\n      this.id = `label${counter++}`\n    }\n    const oldTarget = this.#getLabelledTarget()\n    const newTarget = this.#getPointedTarget()\n    if (!newTarget || oldTarget === newTarget) return\n    if (oldTarget) {\n      oldTarget.removeAttribute('aria-labelledby')\n    }\n    newTarget.setAttribute('aria-labelledby', this.id)\n  }\n\n  #getLabelledTarget() {\n    const root = this.getRootNode()\n    return root.querySelector(`[aria-labelledby=\"${this.id}\"]`)\n  }\n\n  #getPointedTarget() {\n    // label cannot be delegated yet - https://github.com/WICG/webcomponents/issues/917\n    const targetId = this.#for\n    if (targetId) {\n      const scope = this.getRootNode()\n      return scope.getElementById(targetId)\n    }\n    const children = this.#slot.assignedElements({ flatten: true })\n    const input = children.find(({ labels }) => labels)\n    return input ?? children[0]\n  }\n}\n\ncustomElements.define('piwo-label', PiWoLabel)\n","import { upgradeProperty } from '../shared/helpers.js'\nimport commonStylesheet from '../shared/common.css'\nimport thisStylesheet from './link.css'\n\nconst allAttributes = ['href', 'target', 'referrerpolicy', 'rel']\nconst propertyNames = {\n  referrerpolicy: 'referrerPolicy'\n}\n\nclass PiWoLink extends HTMLElement {\n  #internals\n\n  static get formAssociated() {\n    return true\n  }\n\n  constructor() {\n    super()\n    this.#internals = this.attachInternals()\n    this.#internals.role = 'link'\n\n    this.attachShadow({ mode: 'open' })\n    const slot = document.createElement('slot')\n    this.shadowRoot.appendChild(slot)\n    this.shadowRoot.adoptedStyleSheets = [commonStylesheet, thisStylesheet]\n\n    this.addEventListener('click', event => this.#handleClick(event))\n    this.addEventListener('keyup', event => this.#handleKeyUp(event))\n\n    for (const attributeName in allAttributes) {\n      const propertyName = propertyNames[attributeName] ?? attributeName\n      upgradeProperty(this, propertyName)\n    }\n  }\n\n  // ----- properties\n\n  #href = ''\n\n  get href() {\n    return this.#href\n  }\n\n  set href(value) {\n    if (value == null) value = ''\n    if (value === this.#href) return\n    this.#href = value\n    this.setAttribute('href', value)\n  }\n\n  #target = ''\n\n  get target() {\n    return this.#target\n  }\n\n  set target(value) {\n    if (value == null) value = ''\n    if (value === this.target) return\n    this.#target = value\n    this.setAttribute('target', value)\n  }\n\n  #referrerPolicy = ''\n\n  get referrerPolicy() {\n    return this.#referrerPolicy\n  }\n\n  set referrerPolicy(value) {\n    if (value == null) value = ''\n    if (value === this.#referrerPolicy) return\n    this.#referrerPolicy = value\n    this.setAttribute('referrerpolicy', value)\n  }\n\n  #rel = ''\n\n  get rel() {\n    return this.#rel\n  }\n\n  set rel(value) {\n    if (value == null) value = ''\n    if (value === this.#rel) return\n    this.#rel = value\n    this.setAttribute('rel', value)\n  }\n\n  // ----- life-cycle callbacks\n\n  static get observedAttributes() {\n    return allAttributes\n  }\n\n  attributeChangedCallback(name, _oldValue, newValue) {\n    const propertyName = propertyNames[name] ?? name\n    this[propertyName] = newValue\n  }\n\n  connectedCallback() {\n    // not yet in internals - https://github.com/WICG/webcomponents/issues/762\n    if (!this.hasAttribute('tabindex')) {\n      this.tabIndex = 0\n    }\n  }\n\n  // ----- event handlers\n\n  #handleClick(event) {\n    if (event.metaKey || event.altKey || event.ctrlKey || event.shiftKey) return\n    // give a chance to handlers registered outside of this element\n    // to prevent the default behaviour\n    setTimeout(() => {\n      if (event.defaultPrevented) return\n      if (this.#target) {\n        const features = []\n        if (this.#referrerPolicy.includes('no-referrer')) {\n          features.push('noreferrer', 'noopener')\n        } else {\n          if (this.#rel.includes('noreferrer')) {\n            features.push('noreferrer')\n          }\n          if (this.#rel.includes('noopener')) {\n            features.push('noopener')\n          }\n        }\n        window.open(this.#href, this.#target, features.join(''))\n      } else {\n        location.href = this.#href\n      }\n    })\n  }\n\n  #handleKeyUp(event) {\n    if (event.keyCode === 13 &&\n        !(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey)) {\n      this.click()\n    }\n  }\n}\n\ncustomElements.define('piwo-link', PiWoLink)\n","import commonStylesheet from '../shared/common.css'\nimport thisStylesheet from './p.css'\n\nclass PiWoParagraph extends HTMLElement {\n  #internals\n\n  constructor() {\n    super()\n    this.#internals = this.attachInternals()\n    this.#internals.role = 'paragraph'\n\n    this.attachShadow({ mode: 'open' })\n    const slot = document.createElement('slot')\n    this.shadowRoot.appendChild(slot)\n    this.shadowRoot.adoptedStyleSheets = [commonStylesheet, thisStylesheet]\n  }\n}\n\ncustomElements.define('piwo-p', PiWoParagraph)\n","import commonStylesheet from '../shared/common.css'\nimport thisStylesheet from './small.css'\n\nclass PiWoSmall extends HTMLElement {\n  #slot\n\n  constructor() {\n    super()\n    this.attachShadow({ mode: 'open' })\n    this.#slot = document.createElement('slot')\n    this.shadowRoot.appendChild(this.#slot)\n    this.shadowRoot.adoptedStyleSheets = [commonStylesheet, thisStylesheet]\n  }\n}\n\ncustomElements.define('piwo-small', PiWoSmall)\n","import { upgradeProperty } from '../shared/helpers.js'\nimport commonStylesheet from '../shared/common.css'\nimport thisStylesheet from './spacer.css'\n\nclass PiWoSpacer extends HTMLElement {\n  constructor() {\n    super()\n\n    this.attachShadow({ mode: 'open' })\n    this.shadowRoot.adoptedStyleSheets = [commonStylesheet, thisStylesheet]\n\n    upgradeProperty(this, 'factor')\n    upgradeProperty(this, 'typography')\n  }\n\n  // ----- properties\n\n  #factor = 1\n\n  get factor() {\n    return this.#factor\n  }\n\n  set factor(value) {\n    if (value == null) {\n      value = 1\n    } else {\n      value = +value\n      if (Number.isNaN(value)) {\n        value = 1\n      }\n    }\n    if (value === this.#factor) return\n    this.#factor = value\n    this.setAttribute('factor', String(value))\n    this.#updateSpace()\n  }\n\n  #typography = false\n\n  get typography() {\n    return this.#typography\n  }\n\n  set typography(value) {\n    value = Boolean(value)\n    if (value === this.#typography) return\n    this.#typography = value\n    this.toggleAttribute('typography', value)\n  }\n\n  // ----- life-cycle callbacks\n\n  static get observedAttributes() {\n    return ['factor', 'typography']\n  }\n\n  attributeChangedCallback(name, _oldValue, newValue) {\n    this[name] = newValue\n  }\n\n  #updateSpace() {\n    if (this.#factor !== 1) {\n      this.style.setProperty('--pico-spacing-factor', this.#factor)\n    } else {\n      this.style.removeProperty('--pico-spacing-factor')\n    }\n  }\n}\n\ncustomElements.define('piwo-spacer', PiWoSpacer)\n","import { findLabels, formatPlural, upgradeProperty } from '../shared/helpers.js'\nimport commonStylesheet from '../shared/common.css'\nimport thisStylesheet from './textarea.css'\n\nconst booleanAttributes = [\n  'disabled', 'readonly', 'required', 'describeerror', 'focuserror'\n]\nconst stringAttributes = [\n  'name', 'placeholder', 'maxlength', 'minlength'\n]\nconst allAttributes = booleanAttributes.concat(stringAttributes)\nconst propertyNames = {\n  describeerror: 'describeError',\n  focuserror: 'focusError',\n  maxlength: 'maxLength',\n  minlength: 'minLength'\n}\n\nclass PiWoTextArea extends HTMLElement {\n  #internals\n  #errorAnchor\n\n  static get formAssociated() {\n    return true\n  }\n\n  constructor() {\n    super()\n    // try {\n    //   this.contentEditable = 'plaintext-only'\n    // } catch {\n    this.contentEditable = true\n    // }\n\n    this.#internals = this.attachInternals()\n    this.#internals.role = 'textbox'\n    this.#internals.ariaMultiLine = true\n\n    this.attachShadow({ mode: 'open' })\n    this.shadowRoot.adoptedStyleSheets = [commonStylesheet, thisStylesheet]\n    const slot = document.createElement('slot')\n    this.shadowRoot.appendChild(slot)\n    this.#errorAnchor = document.createElement('input')\n    this.#errorAnchor.tabIndex = -1\n    this.#errorAnchor.ariaHidden = 'true'\n    this.#errorAnchor.ariaDisabled = 'true'\n    this.shadowRoot.appendChild(this.#errorAnchor)\n\n    // this.#errorAnchor.addEventListener('focus', () => this.focus())\n    this.addEventListener('beforeinput', event => this.#handleBeforeInput(event))\n    this.addEventListener('input', event => this.#handleInput(event))\n    this.addEventListener('blur', event => this.#handleBlur(event))\n    this.addEventListener('invalid', event => this.#handleInvalid(event))\n\n    for (const attributeName in allAttributes) {\n      const propertyName = propertyNames[attributeName] ?? attributeName\n      upgradeProperty(this, propertyName)\n    }\n  }\n\n  // ----- properties\n\n  get form() {\n    return this.#internals.form\n  }\n\n  get labels() {\n    const labels = this.#internals.labels\n    if (labels.length) return labels\n    return findLabels(this)\n  }\n\n  #name = ''\n\n  get name() {\n    return this.#name\n  }\n\n  set name(value) {\n    if (value == null) value = ''\n    if (value === this.#name) return\n    this.#name = value\n    this.setAttribute('name', value)\n  }\n\n  #placeholder = ''\n\n  get placeholder() {\n    return this.#placeholder\n  }\n\n  set placeholder(value) {\n    if (value == null) value = ''\n    if (value === this.#placeholder) return\n    this.#placeholder = this.#internals.placeholder = this.#internals.ariaPlaceholder = value\n    this.setAttribute('placeholder', value)\n  }\n\n  #value = ''\n\n  get value() {\n    return this.#value\n  }\n\n  set value(value) {\n    if (value == null) value = ''\n    if (value === this.#value) return\n    this.#value = value\n    this.#updateValidity()\n  }\n\n  #maxLength = -1\n\n  get maxLength() {\n    return this.#maxLength\n  }\n\n  set maxLength(value) {\n    if (value == null) {\n      value = -1\n    } else {\n      value = +value\n      if (Number.isNaN(value)) {\n        value = -1\n      }\n    }\n    if (value === this.#maxLength) return\n    this.#maxLength = this.#internals.maxLength = value\n    this.setAttribute('maxlength', value)\n  }\n\n  #minLength = -1\n\n  get minLength() {\n    return this.#minLength\n  }\n\n  set minLength(value) {\n    if (value == null) {\n      value = -1\n    } else {\n      value = +value\n      if (Number.isNaN(value)) {\n        value = -1\n      }\n    }\n    if (value === this.#minLength) return\n    this.#minLength = this.#internals.minLength = value\n    this.setAttribute('minlength', value)\n  }\n\n  #describeError = false\n\n  get describeError() {\n    return this.#describeError\n  }\n\n  set describeError(value) {\n    value = Boolean(value)\n    if (value === this.#describeError) return\n    this.#describeError = value\n    this.toggleAttribute('describeerror', value)\n  }\n\n  #focusError = false\n\n  get focusError() {\n    return this.#focusError\n  }\n\n  set focusError(value) {\n    value = Boolean(value)\n    if (value === this.#focusError) return\n    this.#focusError = value\n    this.toggleAttribute('focuserror', value)\n  }\n\n  get disabled() {\n    return this.#getFlag('disabled')\n  }\n\n  set disabled(flag) {\n    if (this.#setFlag('disabled', 'Disabled', true, flag)) {\n      if (flag) {\n        const root = this.getRootNode()\n        if (root.activeElement === this) {\n          this.blur()\n        }\n        if (this.tabIndex >= 0) {\n          this.tabIndex = -1\n        }\n      } else {\n        if (this.tabIndex < 0) {\n          this.tabIndex = 0\n        }\n      }\n    }\n  }\n\n  get readonly() {\n    return this.#getFlag('readonly')\n  }\n\n  set readonly(flag) {\n    this.#setFlag('readonly', 'ReadOnly', true, flag)\n  }\n\n  get required() {\n    return this.#getFlag('required')\n  }\n\n  set required(flag) {\n    this.#setFlag('required', 'Required', true, flag)\n  }\n\n  #getFlag(name) {\n    return this.#internals.states.has(name)\n  }\n\n  #setFlag(name, ariaName, attribute, flag) {\n    flag = Boolean(flag)\n    if (flag === this[name]) return\n    if (flag) {\n      this.#internals.states.add(name)\n    } else {\n      this.#internals.states.delete(name)\n    }\n    if (attribute) {\n      this.toggleAttribute(name, flag)\n    }\n    if (ariaName) {\n      this.#internals[`aria${ariaName}`] = String(flag)\n    }\n    return true\n  }\n\n  // ----- life-cycle callbacks\n\n  static get observedAttributes() {\n    return allAttributes\n  }\n\n  attributeChangedCallback(name, _oldValue, newValue) {\n    const propertyName = propertyNames[name] ?? name\n    if (booleanAttributes.includes(name)) {\n      this[propertyName] = newValue != null\n    } else {\n      this[propertyName] = newValue\n    }\n  }\n\n  connectedCallback() {\n    // not yet in internals - https://github.com/WICG/webcomponents/issues/762\n    if (!this.hasAttribute('tabindex')) {\n      this.tabIndex = this.disabled ? -1 : 0\n    }\n    const keepValid = this.getAttribute('aria-invalid') === 'false'\n    this.value = this.textContent\n    this.#updateValidity(keepValid)\n    if (this.validity.valid) {\n      this.#ensureMessageElement()\n    }\n  }\n\n  formResetCallback() {\n    this.value = this.textContent\n  }\n\n  formStateRestoreCallback(state, _mode) { // restore or autocomplete\n    this.value = state\n  }\n\n  // formAssociatedCallback(form) {\n  // }\n\n  // formDisabledCallback(disabled) {\n  // }\n\n  // ----- event handlers\n\n  #handleBeforeInput(event) {\n    if (this.readonly) {\n      event.preventDefault()\n    }\n  }\n\n  #dirty = false\n\n  #handleInput() {\n    this.#dirty = true\n    this.value = this.textContent\n  }\n\n  #handleBlur() {\n    if (this.#dirty) {\n      this.#dirty = false\n      this.dispatchEvent(new CustomEvent('change', {\n        detail: {\n          value: this.#value,\n        },\n        bubbles: true,\n        cancelable: false,\n        composed: true\n      }))\n    }\n  }\n\n  #handleInvalid(event) {\n    // detect if `reportValidity` was called from a user interaction\n    if (event.explicitOriginalTarget && event.explicitOriginalTarget !== this || this.form.submitter) {\n      this.ariaInvalid = 'true'\n      if (this.#describeError) {\n        event.preventDefault()\n        this.#markInvalid()\n      }\n    }\n  }\n\n  #markInvalid() {\n    if (this.#ensureMessageElement()) {\n      this.#messageElement.style.display = ''\n      this.#messageElement.textContent = this.validationMessage\n      const { form } = this\n      if (this.#focusError && !form?.errorFocused) {\n        if (form) {\n          form.errorFocused = true\n        }\n        this.focus()\n        if (form) {\n          setTimeout(() => {\n            form.errorFocused = false\n          });\n        }\n      }\n    }\n  }\n\n  #messageElement\n  #originalMessage = ''\n\n  #ensureMessageElement() {\n    const messageIds = this.getAttribute('aria-describedby')\n    if (messageIds) {\n      const messageId = messageIds.trim().split(/ +/).slice(-1)[0]\n      if (messageId) {\n        const messageElement = document.getElementById(messageId.trim())\n        if (messageElement) {\n          if (messageElement !== this.#messageElement) {\n            this.#messageElement = messageElement\n            this.#originalMessage = messageElement.textContent\n            if (!this.#originalMessage) {\n              this.#messageElement.style.display = 'none'\n            }\n          }\n          return true\n        }\n      }\n    }\n  }\n\n  // ----- form validation\n\n  get willValidate() {\n    return this.#internals.willValidate\n  }\n\n  get validity() {\n    return this.#internals.validity\n  }\n\n  get validationMessage() {\n    return this.#internals.validationMessage\n  }\n\n  checkValidity() {\n    return this.#internals.checkValidity()\n  }\n\n  reportValidity() {\n    this.ariaInvalid = String(!this.validity.valid)\n    return this.#internals.reportValidity()\n  }\n\n  setCustomValidity(message) {\n    if (message) {\n      this.#internals.setValidity({ customError: true }, message, this.#errorAnchor)\n    } else {\n      this.#internals.setValidity({})\n    }\n  }\n\n  #updateValidity(keepValid) {\n    this.#internals.setFormValue(this.#value, this.#value);\n    const { length } = this.#value\n    const criteria = []\n    let message\n    if (this.required && !length) {\n      criteria.push('valueMissing')\n      message = 'Please fill out this field.'\n    }\n    if (this.#minLength > 0 && this.#minLength > length) {\n      criteria.push('tooShort')\n      if (!message) {\n        message = `Please use at least ${formatPlural(this.#minLength, 'character')} characters (you are currently using ${formatPlural(length, 'character')}).`\n      }\n    }\n    if (this.#minLength > 0 && this.#maxLength < length) {\n      criteria.push('tooLong')\n      if (!message) {\n        message = `Please use at most ${formatPlural(this.#maxLength, 'character')} characters (you are currently using ${formatPlural(length, 'character')}).`\n      }\n    }\n    if (message) {\n      const validity = {}\n      for (const criterion of criteria) {\n        validity[criterion] = true\n      }\n      this.#internals.setValidity(validity, message, this.#errorAnchor)\n      if (this.getAttribute('aria-invalid') === 'true') {\n        this.#markInvalid()\n      }\n      return\n    }\n    this.#internals.setValidity({})\n    this.ariaInvalid = keepValid ? 'false': null\n    this.#markValid()\n  }\n\n  #markValid() {\n    if (this.#messageElement) {\n      this.#messageElement.textContent = this.#originalMessage\n      if (!this.#originalMessage) {\n        this.#messageElement.style.display = 'none'\n      }\n      this.#messageElement = null\n      this.#originalMessage = ''\n    }\n  }\n}\n\ncustomElements.define('piwo-textarea', PiWoTextArea)\n"],"names":["upgradeProperty","element","name","Object","hasOwn","value","findLabels","labelIds","getAttribute","root","getRootNode","trim","split","reduce","labels","id","label","getElementById","push","formatPlural","count","word","document","adoptedStyleSheets","stylesheet","booleanAttributes","allAttributes","concat","PiWoButton","HTMLElement","formAssociated","constructor","attachInternals","role","attachShadow","mode","slot","createElement","shadowRoot","appendChild","commonStylesheet","thisStylesheet","addEventListener","event","form","setAttribute","type","disabled","states","has","flag","add","activeElement","blur","tabIndex","delete","ariaDisabled","String","observedAttributes","attributeChangedCallback","_oldValue","newValue","includes","connectedCallback","hasAttribute","metaKey","altKey","ctrlKey","shiftKey","setTimeout","defaultPrevented","reset","keyCode","click","findClosestAncestorByTagName","tagName","parent","parentElement","setFormValue","textContent","submitter","button","insertAdjacentElement","requestSubmit","undefined","remove","customElements","define","propertyNames","describeerror","focuserror","PiWoCheckbox","attributeName","ariaChecked","ariaHidden","length","localName","checked","indeterminate","describeError","Boolean","toggleAttribute","focusError","readonly","required","ariaName","attribute","propertyName","keepValid","validity","valid","formResetCallback","formStateRestoreCallback","state","_mode","beforeInput","CustomEvent","bubbles","cancelable","composed","dispatchEvent","detail","explicitOriginalTarget","ariaInvalid","preventDefault","style","display","validationMessage","errorFocused","focus","messageIds","messageId","slice","messageElement","willValidate","checkValidity","reportValidity","setCustomValidity","message","setValidity","customError","valueMissing","PiWoContainer","PiWoHeading","level","ariaLevel","PiWoHorizontalRule","maxlength","minlength","PiWoInput","delegatesFocus","placeholder","autocomplete","max","min","maxLength","Number","isNaN","minLength","multiple","pattern","step","formDisabledCallback","newEvent","counter","PiWoLabel","htmlFor","_name","labelledTarget","target","Promise","resolve","oldTarget","newTarget","removeAttribute","querySelector","targetId","scope","children","assignedElements","flatten","input","find","referrerpolicy","PiWoLink","href","referrerPolicy","rel","features","window","open","join","location","PiWoParagraph","PiWoSmall","PiWoSpacer","factor","typography","setProperty","removeProperty","PiWoTextArea","contentEditable","ariaMultiLine","ariaPlaceholder","criteria","criterion"],"mappings":"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"}